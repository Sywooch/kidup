!function(e){function t(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function i(e){var t="text"==e||"tel"==e||"password"==e;if(!t){var i=document.createElement("input");i.setAttribute("type",e),t="text"===i.type,i=null}return t}function n(t,i,a){var r=a.aliases[t];return r?(r.alias&&n(r.alias,void 0,a),e.extend(!0,a,r),e.extend(!0,a,i),!0):!1}function a(t,i){function n(i){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function a(i,n,a){var r=t.definitions[n],o=0==i.matches.length;if(a=void 0!=a?a:i.matches.length,r&&!p){r.placeholder=e.isFunction(r.placeholder)?r.placeholder.call(this,t):r.placeholder;for(var s=r.prevalidator,l=s?s.length:0,c=1;c<r.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,f=u.cardinality;i.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:i.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n})}i.matches.splice(a++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:i.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n})}else i.matches.splice(a++,0,{fn:null,cardinality:0,optionality:i.isOptional,newBlockMarker:o,casing:null,def:n,placeholder:void 0,mask:n}),p=!1}for(var r,o,s,l,c,u,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,f=new n,h=[],g=[];r=d.exec(i);)switch(o=r[0],o.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=h.pop(),h.length>0){if(l=h[h.length-1],l.matches.push(s),l.isAlternator){c=h.pop();for(var m=0;m<c.matches.length;m++)c.matches[m].isGroup=!1;h.length>0?(l=h[h.length-1],l.matches.push(c)):f.matches.push(c)}}else f.matches.push(s);break;case t.optionalmarker.start:h.push(new n(!1,!0));break;case t.groupmarker.start:h.push(new n(!0));break;case t.quantifiermarker.start:var v=new n(!1,!1,!0);o=o.replace(/[{}]/g,"");var y=o.split(","),b=isNaN(y[0])?y[0]:parseInt(y[0]),w=1==y.length?b:isNaN(y[1])?y[1]:parseInt(y[1]);if(("*"==w||"+"==w)&&(b="*"==w?0:1),v.quantifier={min:b,max:w},h.length>0){var x=h[h.length-1].matches;if(r=x.pop(),!r.isGroup){var k=new n(!0);k.matches.push(r),r=k}x.push(r),x.push(v)}else{if(r=f.matches.pop(),!r.isGroup){var k=new n(!0);k.matches.push(r),r=k}f.matches.push(r),f.matches.push(v)}break;case t.escapeChar:p=!0;break;case t.alternatormarker:h.length>0?(l=h[h.length-1],u=l.matches.pop()):u=f.matches.pop(),u.isAlternator?h.push(u):(c=new n(!1,!1,!1,!0),c.matches.push(u),h.push(c));break;default:if(h.length>0){if(l=h[h.length-1],l.matches.length>0&&!l.isAlternator&&(u=l.matches[l.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end))),a(l,o),l.isAlternator){c=h.pop();for(var m=0;m<c.matches.length;m++)c.matches[m].isGroup=!1;h.length>0?(l=h[h.length-1],l.matches.push(c)):f.matches.push(c)}}else f.matches.length>0&&(u=f.matches[f.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end))),a(f,o)}return f.matches.length>0&&(u=f.matches[f.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end)),g.push(f)),g}function a(a,r){if(void 0==a||""==a)return void 0;if(1==a.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;a=t.groupmarker.start+a+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}var s;return void 0==e.inputmask.masksCache[a]||i===!0?(s={mask:a,maskToken:n(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},i!==!0&&(e.inputmask.masksCache[a]=s)):s=e.extend(!0,{},e.inputmask.masksCache[a]),s}function r(e){if(e=e.toString(),t.numericInput){e=e.split("").reverse();for(var i=0;i<e.length;i++)e[i]==t.optionalmarker.start?e[i]=t.optionalmarker.end:e[i]==t.optionalmarker.end?e[i]=t.optionalmarker.start:e[i]==t.groupmarker.start?e[i]=t.groupmarker.end:e[i]==t.groupmarker.end&&(e[i]=t.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=void 0==t.keepStatic?!0:t.keepStatic;var s="(";return e.each(t.mask,function(t,i){s.length>1&&(s+=")|("),s+=r(void 0==i.mask||e.isFunction(i.mask)?i:i.mask)}),s+=")",a(s,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0==t.mask.mask||e.isFunction(t.mask.mask)?a(r(t.mask),t.mask):a(r(t.mask.mask),t.mask)),o}function r(n,a,r){function o(e,t,i){t=t||0;var n,a,r,o=[],s=0;do{if(e===!0&&d().validPositions[s]){var l=d().validPositions[s];a=l.match,n=l.locator.slice(),o.push(i===!0?l.input:D(s,a))}else r=m(s,n,s-1),a=r.match,n=r.locator.slice(),o.push(D(s,a));s++}while((void 0==ne||ne>s-1)&&null!=a.fn||null==a.fn&&""!=a.def||t>=s);return o.pop(),o}function d(){return a}function p(e){var t=d();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function f(e,t){var i=d(),n=-1,a=i.validPositions;void 0==e&&(e=-1);var r=n,o=n;for(var s in a){var l=parseInt(s);a[l]&&(t||null!=a[l].match.fn)&&(e>=l&&(r=l),l>=e&&(o=l))}return n=-1!=r&&e-r>1||e>o?r:o}function h(t,i,n){if(r.insertMode&&void 0!=d().validPositions[t]&&void 0==n){var a,o=e.extend(!0,{},d().validPositions),s=f();for(a=t;s>=a;a++)delete d().validPositions[a];d().validPositions[t]=i;var l,c=!0,u=d().validPositions;for(a=l=t;s>=a;a++){var p=o[a];if(void 0!=p)for(var h=l,g=-1;h<P()&&(null==p.match.fn&&u[a]&&(u[a].match.optionalQuantifier===!0||u[a].match.optionality===!0)||null!=p.match.fn);){if(null==p.match.fn||!r.keepStatic&&u[a]&&(void 0!=u[a+1]&&b(a+1,u[a].locator.slice(),a).length>1||void 0!=u[a].alternation)?h++:h=A(l),y(h,p.match.def)){c=S(h,p.input,!0,!0)!==!1,l=h;break}if(c=null==p.match.fn,g==h)break;g=h}if(!c)break}if(!c)return d().validPositions=e.extend(!0,{},o),!1}else d().validPositions[t]=i;return!0}function g(e,t,i,n){var a,o=e;for(d().p=e,void 0!=d().validPositions[e]&&d().validPositions[e].input==r.radixPoint&&(t++,o++),a=o;t>a;a++)void 0!=d().validPositions[a]&&(i===!0||0!=r.canClearPosition(d(),a,f(),n,r))&&delete d().validPositions[a];for(p(!0),a=o+1;a<=f();){for(;void 0!=d().validPositions[o];)o++;var s=d().validPositions[o];o>a&&(a=o+1);var l=d().validPositions[a];void 0!=l&&void 0==s?(y(o,l.match.def)&&S(o,l.input,!0)!==!1&&(delete d().validPositions[a],a++),o++):a++}var c=f(),u=P();for(c>=e&&void 0!=d().validPositions[c]&&d().validPositions[c].input==r.radixPoint&&delete d().validPositions[c],a=c+1;u>=a;a++)d().validPositions[a]&&delete d().validPositions[a];p(!0)}function m(e,t,i){var n=d().validPositions[e];if(void 0==n)for(var a=b(e,t,i),o=f(),s=d().validPositions[o]||b(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].toString().split(","):[],c=0;c<a.length&&(n=a[c],!(n.match&&(r.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0==s.alternation||s.alternation!=n.alternation||void 0!=n.locator[s.alternation]&&$(n.locator[s.alternation].toString().split(","),l))));c++);return n}function v(e){return d().validPositions[e]?d().validPositions[e].match:b(e)[0].match}function y(e,t){for(var i=!1,n=b(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def==t){i=!0;break}return i}function b(t,i,n,a){function r(i,n,a,o){function l(a,o,f){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask),!0;if(s==t&&void 0==a.matches)return c.push({match:a,locator:o.reverse()}),!0;if(void 0!=a.matches){if(a.isGroup&&f!==!0){if(a=l(i.matches[p+1],o))return!0}else if(a.isOptional){var h=a;if(a=r(a,n,o,f)){var g=c[c.length-1].match,m=0==e.inArray(g,h.matches);if(!m)return!0;u=!0,s=t}}else if(a.isAlternator){var v,y=a,b=[],w=c.slice(),x=o.length,k=n.length>0?n.shift():-1;if(-1==k||"string"==typeof k){var C=s,$=n.slice(),S=[];"string"==typeof k&&(S=k.split(","));for(var _=0;_<y.matches.length;_++){if(c=[],a=l(y.matches[_],[_].concat(o),f)||a,a!==!0&&void 0!=a&&S[S.length-1]<y.matches.length){var P=i.matches.indexOf(a)+1;i.matches.length>P&&(a=l(i.matches[P],[P].concat(o.slice(1,o.length)),f),a&&(S.push(P.toString()),e.each(c,function(e,t){t.alternation=o.length-1})))}v=c.slice(),s=C,c=[];for(var A=0;A<$.length;A++)n[A]=$[A];for(var E=0;E<v.length;E++){var T=v[E];T.alternation=T.alternation||x;for(var I=0;I<b.length;I++){var D=b[I];if(T.match.mask==D.match.mask&&("string"!=typeof k||-1!=e.inArray(T.locator[T.alternation].toString(),S))){v.splice(E,1),E--,D.locator[T.alternation]=D.locator[T.alternation]+","+T.locator[T.alternation],D.alternation=T.alternation;break}}}b=b.concat(v)}"string"==typeof k&&(b=e.map(b,function(t,i){if(isFinite(i)){var n,a=t.alternation,r=t.locator[a].toString().split(",");t.locator[a]=void 0,t.alternation=void 0;for(var o=0;o<r.length;o++)n=-1!=e.inArray(r[o],S),n&&(void 0!=t.locator[a]?(t.locator[a]+=",",t.locator[a]+=r[o]):t.locator[a]=parseInt(r[o]),t.alternation=a);if(void 0!=t.locator[a])return t}})),c=w.concat(b),s=t,u=c.length>0}else a=y.matches[k]?l(y.matches[k],[k].concat(o),f):!1;if(a)return!0}else if(a.isQuantifier&&f!==!0)for(var F=a,j=n.length>0&&f!==!0?n.shift():0;j<(isNaN(F.quantifier.max)?j+1:F.quantifier.max)&&t>=s;j++){var O=i.matches[e.inArray(F,i.matches)-1];if(a=l(O,[j].concat(o),!0)){var g=c[c.length-1].match;g.optionalQuantifier=j>F.quantifier.min-1;var m=0==e.inArray(g,O.matches);if(m){if(j>F.quantifier.min-1){u=!0,s=t;break}return!0}return!0}}else if(a=r(a,n,o,f))return!0}else s++}for(var p=n.length>0?n.shift():0;p<i.matches.length;p++)if(i.matches[p].isQuantifier!==!0){var f=l(i.matches[p],[p].concat(a),o);if(f&&s==t)return f;if(s>t)break}}var o=d().maskToken,s=i?n:0,l=i||[0],c=[],u=!1;if(a===!0&&d().tests[t])return d().tests[t];if(void 0==i){for(var p,f=t-1;void 0==(p=d().validPositions[f])&&f>-1&&(!d().tests[f]||void 0==(p=d().tests[f][0]));)f--;void 0!=p&&f>-1&&(s=f,l=p.locator.slice())}for(var h=l.shift();h<o.length;h++){var g=r(o[h],l,[h]);if(g&&s==t||s>t)break}return(0==c.length||u)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),d().tests[t]=e.extend(!0,[],c),d().tests[t]}function w(){return void 0==d()._buffer&&(d()._buffer=o(!1,1)),d()._buffer}function x(){return void 0==d().buffer&&(d().buffer=o(!0,f(),!0)),d().buffer}function k(e,t,i){if(i=i||x().slice(),e===!0)p(),e=0,t=i.length;else for(var n=e;t>n;n++)delete d().validPositions[n],delete d().tests[n];for(var n=e;t>n;n++)i[n]!=r.skipOptionalPartCharacter&&S(n,i[n],!0,!0)}function C(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function $(t,i){for(var n=r.greedy?i:i.slice(0,1),a=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],n)){a=!0;break}return a}function S(t,i,n,a){function o(t,i,n,a){var o=!1;return e.each(b(t),function(s,l){for(var c=l.match,u=i?1:0,m="",v=(x(),c.cardinality);v>u;v--)m+=T(t-(v-1));if(i&&(m+=i),o=null!=c.fn?c.fn.test(m,d(),t,n,r):i!=c.def&&i!=r.skipOptionalPartCharacter||""==c.def?!1:{c:c.def,pos:t},o!==!1){var y=void 0!=o.c?o.c:i;y=y==r.skipOptionalPartCharacter&&null===c.fn?c.def:y;var b=t,w=x();if(void 0!=o.remove&&(e.isArray(o.remove)||(o.remove=[o.remove]),e.each(o.remove.sort(function(e,t){return t-e}),function(e,t){g(t,t+1,!0)})),void 0!=o.insert&&(e.isArray(o.insert)||(o.insert=[o.insert]),e.each(o.insert.sort(function(e,t){return e-t}),function(e,t){S(t.pos,t.c,!0)})),o.refreshFromBuffer){var $=o.refreshFromBuffer;if(n=!0,k($===!0?$:$.start,$.end,w),void 0==o.pos&&void 0==o.c)return o.pos=f(),!1;if(b=void 0!=o.pos?o.pos:t,b!=t)return o=e.extend(o,S(b,y,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=t&&(b=o.pos,k(t,b),b!=t))return o=e.extend(o,S(b,y,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&p(!0),h(b,e.extend({},l,{input:C(y,c)}),a)||(o=!1),!1)}}),o}function s(t,i,n,a){for(var o,s,l,c,u=e.extend(!0,{},d().validPositions),h=f();h>=0&&(c=d().validPositions[h],!c||void 0==c.alternation||(o=h,s=d().validPositions[o].alternation,m(o).locator[c.alternation]==c.locator[c.alternation]));h--);if(void 0!=s)for(var g in d().validPositions)if(c=d().validPositions[g],parseInt(g)>parseInt(o)&&void 0!=c.alternation){var v=d().validPositions[o].locator[s].toString().split(","),y=c.locator[s]||v[0];y.length>0&&(y=y.split(",")[0]);for(var b=0;b<v.length;b++)if(y<v[b]){for(var w,x,k=g-1;k>=0;k--)if(w=d().validPositions[k],void 0!=w){x=w.locator[s],w.locator[s]=parseInt(v[b]);break}if(y!=w.locator[s]){for(var C=[],$=g;$<f()+1;$++){var _=d().validPositions[$];_&&null!=_.match.fn&&C.push(_.input),delete d().validPositions[$],delete d().tests[$]}for(p(!0),r.keepStatic=!r.keepStatic,l=!0;C.length>0;){var P=C.shift();if(P!=r.skipOptionalPartCharacter&&!(l=S(f()+1,P,!1,!0)))break}if(w.alternation=s,w.locator[s]=x,l){var A=f(t)+1;l=S(t>A?A:t,i,n,a)}if(r.keepStatic=!r.keepStatic,l)return l;p(),d().validPositions=e.extend(!0,{},u)}}break}return!1}function l(t,i){for(var n=d().validPositions[i],a=n.locator,r=a.length,o=t;i>o;o++)if(!_(o)){var s=b(o),l=s[0],c=-1;e.each(s,function(e,t){for(var i=0;r>i;i++)t.locator[i]&&$(t.locator[i].toString().split(","),a[i].toString().split(","))&&i>c&&(c=i,l=t)}),h(o,e.extend({},l,{input:l.match.def}),!0)}}n=n===!0;for(var c=x(),u=t-1;u>-1&&!d().validPositions[u];u--);for(u++;t>u;u++)void 0==d().validPositions[u]&&((!_(u)||c[u]!=D(u))&&b(u).length>1||c[u]==r.radixPoint||"0"==c[u]&&e.inArray(r.radixPoint,c)<u)&&o(u,c[u],!0);var v=t,y=!1,w=e.extend(!0,{},d().validPositions);if(v<P()&&(y=o(v,i,n,a),(!n||a)&&y===!1)){var E=d().validPositions[v];if(!E||null!=E.match.fn||E.match.def!=i&&i!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==d().validPositions[A(v)])&&!_(v))for(var I=v+1,F=A(v);F>=I;I++)if(y=o(I,i,n,a),y!==!1){l(v,I),v=I;break}}else y={caret:A(v)}}if(y===!1&&r.keepStatic&&z(c)&&(y=s(t,i,n,a)),y===!0&&(y={pos:v}),e.isFunction(r.postValidation)&&0!=y&&!n){p(!0);var j=r.postValidation(x(),r);if(!j)return p(!0),d().validPositions=e.extend(!0,{},w),!1}return y}function _(e){var t=v(e);if(null!=t.fn)return t.fn;if(!r.keepStatic&&void 0==d().validPositions[e]){for(var i=b(e),n=!0,a=0;a<i.length;a++)if(""!=i[a].match.def&&(void 0==i[a].alternation||i[a].locator[i[a].alternation].length>1)){n=!1;break}return n}return!1}function P(){var e;ne=ie.prop("maxLength"),-1==ne&&(ne=void 0);var t,i=f(),n=d().validPositions[i],a=void 0!=n?n.locator.slice():void 0;for(t=i+1;void 0==n||null!=n.match.fn||null==n.match.fn&&""!=n.match.def;t++)n=m(t,a,t-1),a=n.locator.slice();var r=v(t-1);return e=""!=r.def?t:t-1,void 0==ne||ne>e?e:ne}function A(e){var t=P();if(e>=t)return t;for(var i=e;++i<t&&!_(i)&&(r.nojumps!==!0||r.nojumpsThreshold>i););return i}function E(e){var t=e;if(0>=t)return 0;for(;--t>0&&!_(t););return t}function T(e){return void 0==d().validPositions[e]?D(e):d().validPositions[e].input}function I(t,i,n,a,o){if(a&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite.call(t,a,i,n,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;k(l===!0?l:l.start,l.end,s.buffer),p(!0),i=x()}n=s.caret||n}}t._valueSet(i.join("")),void 0!=n&&L(t,n),o===!0&&(oe=!0,e(t).trigger("input"))}function D(e,t){if(t=t||v(e),void 0!=t.placeholder)return t.placeholder;if(null==t.fn){if(!r.keepStatic&&void 0==d().validPositions[e]){for(var i=b(e),n=!0,a=0;a<i.length;a++)if(""!=i[a].match.def&&(null!==i[a].match.fn||void 0==i[a].alternation||i[a].locator[i[a].alternation].length>1)){n=!1;break}if(n)return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function F(t,i,n,a){function r(){var e=!1,t=w().slice(l,A(l)).join("").indexOf(s);if(-1!=t&&!_(l)){e=!0;for(var i=w().slice(l,l+t),n=0;n<i.length;n++)if(" "!=i[n]){e=!1;break}}return e}var o=void 0!=a?a.slice():t._valueGet().split(""),s="",l=0;if(p(),d().p=A(-1),i&&t._valueSet(""),!n){var c=w().slice(0,A(-1)).join(""),u=o.join("").match(new RegExp("^"+j(c),"g"));u&&u.length>0&&(o.splice(0,u.length*c.length),l=A(l))}e.each(o,function(i,a){var o=e.Event("keypress");o.which=a.charCodeAt(0),s+=a;var c=f(void 0,!0),u=d().validPositions[c],p=m(c+1,u?u.locator.slice():void 0,c);if(!r()||n){var h=n?i:null==p.match.fn&&p.match.optionality&&c+1<d().p?c+1:d().p;K.call(t,o,!0,!1,n,h),l=h+1,s=""}else K.call(t,o,!0,!1,!0,c+1)}),i&&I(t,x(),e(t).is(":focus")?A(f(0)):void 0,e.Event("checkval"))}function j(t){return e.inputmask.escapeRegex(t)}function O(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var i=[],n=d().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var o=(ae?i.reverse():i).join(""),s=(ae?x().slice().reverse():x()).join("");return e.isFunction(r.onUnMask)&&(o=r.onUnMask.call(t,s,o,r)||o),o}return t[0]._valueGet()}function R(e){if(ae&&"number"==typeof e&&(!r.greedy||""!=r.placeholder)){var t=x().length;e=t-e}return e}function L(t,i,n){var a,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof i)return o.setSelectionRange?(i=o.selectionStart,n=o.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0),(a.commonAncestorContainer.parentNode==o||a.commonAncestorContainer==o)&&(i=a.startOffset,n=a.endOffset)):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),i=0-a.duplicate().moveStart("character",-1e5),n=i+a.text.length),{begin:R(i),end:R(n)};if(i=R(i),n=R(n),n="number"==typeof n?n:i,e(o).is(":visible")){var s=e(o).css("font-size").replace("px","")*n;if(o.scrollLeft=s>o.scrollWidth?s:0,l||0!=r.insertMode||i!=n||n++,o.setSelectionRange)o.selectionStart=i,o.selectionEnd=n;else if(window.getSelection){if(a=document.createRange(),void 0==o.firstChild){var c=document.createTextNode("");o.appendChild(c)}a.setStart(o.firstChild,i<o._valueGet().length?i:o._valueGet().length),a.setEnd(o.firstChild,n<o._valueGet().length?n:o._valueGet().length),a.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(a)}else o.createTextRange&&(a=o.createTextRange(),a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",i),a.select())}}function M(t){var i,n,a=x(),r=a.length,o=f(),s={},l=d().validPositions[o],c=void 0!=l?l.locator.slice():void 0;for(i=o+1;i<a.length;i++)n=m(i,c,i-1),c=n.locator.slice(),s[i]=e.extend(!0,{},n);var u=l&&void 0!=l.alternation?l.locator[l.alternation]:void 0;for(i=r-1;i>o&&(n=s[i],(n.match.optionality||n.match.optionalQuantifier||u&&(u!=s[i].locator[l.alternation]&&null!=n.match.fn||null==n.match.fn&&n.locator[l.alternation]&&$(n.locator[l.alternation].toString().split(","),u.split(","))&&""!=b(i)[0].def))&&a[i]==D(i,n.match));i--)r--;return t?{l:r,def:s[r]?s[r].match:void 0}:r}function U(e){for(var t=M(),i=e.length-1;i>t&&!_(i);i--);return e.splice(t,i+1-t),e}function z(t){if(e.isFunction(r.isComplete))return r.isComplete.call(ie,t,r);if("*"==r.repeat)return void 0;var i=!1,n=M(!0),a=E(n.l);if(f(),void 0==n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var o=0;a>=o;o++){var s=m(o).match;if(null!=s.fn&&void 0==d().validPositions[o]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null==s.fn&&t[o]!=D(o,s)){i=!1;break}}}return i}function q(e,t){return ae?e-t>1||e-t==1&&r.insertMode:t-e>1||t-e==1&&r.insertMode}function N(t){var i=e._data(t).events,n=!1;e.each(i,function(t,i){e.each(i,function(t,i){if("inputmask"==i.namespace&&"setvalue"!=i.type){var a=i.handler;i.handler=function(t){if(!(this.disabled||this.readOnly&&!("keydown"==t.type&&t.ctrlKey&&67==t.keyCode||t.keyCode==e.inputmask.keyCode.TAB))){switch(t.type){case"input":if(oe===!0||n===!0)return oe=!1,t.preventDefault();break;case"keydown":re=!1,n=!1;break;case"keypress":if(re===!0)return t.preventDefault();re=!0;break;case"compositionstart":n=!0;break;case"compositionupdate":oe=!0;break;case"compositionend":n=!1}return a.apply(this,arguments)}t.preventDefault()}}})})}function H(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),r=n.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",a!=s?a:""}return i(t)},set:function(t,i){var a,r=e(t),o=r.data("_inputmask");return a=n(t,i),o&&r.triggerHandler("setvalue.inputmask"),a},inputmaskpatch:!0}}}function n(){var t=e(this),i=e(this).data("_inputmask");return i?i.opts.autoUnmask?t.inputmask("unmaskedvalue"):o.call(this)!=w().join("")?o.call(this):"":o.call(this)}function a(t){var i=e(this).data("_inputmask");s.call(this,t),i&&e(this).triggerHandler("setvalue.inputmask")}function r(t){e(t).bind("mouseenter.inputmask",function(t){var i=e(this),n=this,a=n._valueGet();""!=a&&a!=x().join("")&&i.triggerHandler("setvalue.inputmask")});var i=e._data(t).events,n=i.mouseover;if(n){for(var a=n[n.length-1],r=n.length-1;r>0;r--)n[r]=n[r-1];n[0]=a}}var o,s;if(!t._valueGet){var l;Object.getOwnPropertyDescriptor&&void 0==t.value?(o=function(){return this.textContent},s=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:n,set:a})):((l=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"))&&l.configurable,document.__lookupGetter__&&t.__lookupGetter__("value")?(o=t.__lookupGetter__("value"),s=t.__lookupSetter__("value"),t.__defineGetter__("value",n),t.__defineSetter__("value",a)):(o=function(){return t.value},s=function(e){t.value=e},i(t.type),r(t))),t._valueGet=function(e){return ae&&e!==!0?o.call(this).split("").reverse().join(""):o.call(this)},t._valueSet=function(e){s.call(this,ae?e.split("").reverse().join(""):e)}}}function B(t,i,n,a){function o(){if(r.keepStatic){p(!0);var i,n=[],a=e.extend(!0,{},d().validPositions);for(i=f();i>=0;i--){var o=d().validPositions[i];if(o){if(void 0!=o.alternation&&o.locator[o.alternation]==m(i).locator[o.alternation])break;null!=o.match.fn&&n.push(o.input),delete d().validPositions[i]}}if(i>0)for(;n.length>0;){d().p=A(f());var s=e.Event("keypress");s.which=n.pop().charCodeAt(0),K.call(t,s,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}if((r.numericInput||ae)&&(i==e.inputmask.keyCode.BACKSPACE?i=e.inputmask.keyCode.DELETE:i==e.inputmask.keyCode.DELETE&&(i=e.inputmask.keyCode.BACKSPACE),ae)){var s=n.end;n.end=n.begin,n.begin=s}if(i==e.inputmask.keyCode.BACKSPACE&&(n.end-n.begin<1||0==r.insertMode)?n.begin=E(n.begin):i==e.inputmask.keyCode.DELETE&&n.begin==n.end&&(n.end=_(n.end)?n.end+1:A(n.end)+1),g(n.begin,n.end,!1,a),a!==!0){o();var l=f(n.begin);l<n.begin?(-1==l&&p(),d().p=A(l)):d().p=n.begin}}function G(i){var n=this,a=e(n),o=i.keyCode,l=L(n);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||i.ctrlKey&&88==o&&!t("cut")?(i.preventDefault(),88==o&&(J=x().join("")),B(n,o,l),I(n,x(),d().p,i,J!=x().join("")),n._valueGet()==w().join("")?a.trigger("cleared"):z(x())===!0&&a.trigger("complete"),r.showTooltip&&a.prop("title",d().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=A(f());r.insertMode||e!=P()||i.shiftKey||e--,L(n,i.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!i.shiftKey||o==e.inputmask.keyCode.PAGE_UP?L(n,0,i.shiftKey?l.begin:0):(r.undoOnEscape&&o==e.inputmask.keyCode.ESCAPE||90==o&&i.ctrlKey)&&i.altKey!==!0?(F(n,!0,!1,J.split("")),a.click()):o!=e.inputmask.keyCode.INSERT||i.shiftKey||i.ctrlKey?0!=r.insertMode||i.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=L(n);L(n,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=L(n);L(n,ae?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,L(n,r.insertMode||l.begin!=P()?l.begin:l.begin-1)),r.onKeyDown.call(this,i,x(),L(n).begin,r),se=-1!=e.inArray(o,r.ignorables)}function K(t,i,n,a,o){var s=this,l=e(s),c=t.which||t.charCode||t.keyCode;if(!(i===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||se))return!0;if(c){46==c&&0==t.shiftKey&&","==r.radixPoint&&(c=44);var u,f=i?{begin:o,end:o}:L(s),g=String.fromCharCode(c),m=q(f.begin,f.end);m&&(d().undoPositions=e.extend(!0,{},d().validPositions),B(s,e.inputmask.keyCode.DELETE,f,!0),f.begin=d().p,r.insertMode||(r.insertMode=!r.insertMode,h(f.begin,a),r.insertMode=!r.insertMode),m=!r.multi),d().writeOutBuffer=!0;var v=ae&&!m?f.end:f.begin,y=S(v,g,a);if(y!==!1){if(y!==!0&&(v=void 0!=y.pos?y.pos:v,g=void 0!=y.c?y.c:g),p(!0),void 0!=y.caret)u=y.caret;else{var w=d().validPositions;u=!r.keepStatic&&(void 0!=w[v+1]&&b(v+1,w[v].locator.slice(),v).length>1||void 0!=w[v].alternation)?v+1:A(v)}d().p=u}if(n!==!1){var C=this;if(setTimeout(function(){r.onKeyValidation.call(C,y,r)},0),d().writeOutBuffer&&y!==!1){var $=x();I(s,$,i?void 0:r.numericInput?E(u):u,t,i!==!0),i!==!0&&setTimeout(function(){z($)===!0&&l.trigger("complete")},0)}else m&&(d().buffer=void 0,d().validPositions=d().undoPositions)}else m&&(d().buffer=void 0,d().validPositions=d().undoPositions);if(r.showTooltip&&l.prop("title",d().mask),i&&e.isFunction(r.onBeforeWrite)){var _=r.onBeforeWrite.call(this,t,x(),u,r);if(_&&_.refreshFromBuffer){var P=_.refreshFromBuffer;k(P===!0?P:P.start,P.end,_.buffer),p(!0),_.caret&&(d().p=_.caret)}}t.preventDefault()}}function W(t){var i=this,n=e(i),a=i._valueGet(!0),o=L(i);if("propertychange"==t.type&&i._valueGet().length<=P())return!0;if("paste"==t.type){var s=a.substr(0,o.begin),l=a.substr(o.end,a.length);s==w().slice(0,o.begin).join("")&&(s=""),l==w().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?a=s+window.clipboardData.getData("Text")+l:t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(a=s+t.originalEvent.clipboardData.getData("text/plain")+l)}var c=a;if(e.isFunction(r.onBeforePaste)){if(c=r.onBeforePaste.call(i,a,r),c===!1)return t.preventDefault(),!1;c||(c=a)}return F(i,!0,!1,ae?c.split("").reverse():c.split("")),n.click(),z(x())===!0&&n.trigger("complete"),!1}function Y(t){var i=this;F(i,!0,!1),z(x())===!0&&e(i).trigger("complete"),t.preventDefault()}function Z(e){var t=this;J=x().join(""),(""==te||0!=e.originalEvent.data.indexOf(te))&&(ee=L(t))}function V(t){var i=this,n=ee||L(i);0==t.originalEvent.data.indexOf(te)&&(p(),n={begin:0,end:0});var a=t.originalEvent.data;L(i,n.begin,n.end);for(var o=0;o<a.length;o++){var s=e.Event("keypress");s.which=a.charCodeAt(o),re=!1,se=!1,K.call(i,s)}setTimeout(function(){var e=d().p;I(i,x(),r.numericInput?E(e):e)},0),te=t.originalEvent.data}function Q(e){}function X(t){if(ie=e(t),ie.data("_inputmask",{maskset:a,opts:r,isRTL:!1}),r.showTooltip&&ie.prop("title",d().mask),("rtl"==t.dir||r.rightAlign)&&ie.css("text-align","right"),"rtl"==t.dir||r.numericInput){t.dir="ltr",ie.removeAttr("dir");var n=ie.data("_inputmask");n.isRTL=!0,ie.data("_inputmask",n),ae=!0}ie.unbind(".inputmask"),(ie.is(":input")&&i(ie.attr("type"))||t.isContentEditable)&&(ie.closest("form").bind("submit",function(e){J!=x().join("")&&ie.change(),ie[0]._valueGet&&ie[0]._valueGet()==w().join("")&&ie[0]._valueSet(""),r.removeMaskOnSubmit&&ie.inputmask("remove")}).bind("reset",function(){setTimeout(function(){ie.triggerHandler("setvalue.inputmask")},0)}),ie.bind("mouseenter.inputmask",function(){var t=e(this),i=this;!t.is(":focus")&&r.showMaskOnHover&&i._valueGet()!=x().join("")&&I(i,x())}).bind("blur.inputmask",function(t){var i=e(this),n=this;if(i.data("_inputmask")){var a=n._valueGet(),o=x().slice();le=!0,J!=o.join("")&&setTimeout(function(){i.change(),J=o.join("")},0),""!=a&&(r.clearMaskOnLostFocus&&(a==w().join("")?o=[]:U(o)),z(o)===!1&&(i.trigger("incomplete"),r.clearIncomplete&&(p(),o=r.clearMaskOnLostFocus?[]:w().slice())),I(n,o,void 0,t))}}).bind("focus.inputmask",function(t){var i=(e(this),this),n=i._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""==n)&&i._valueGet()!=x().join("")&&I(i,x(),A(f())),J=x().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;if(r.clearMaskOnLostFocus){var n=x().slice(),a=i._valueGet();t.is(":focus")||a==t.attr("placeholder")||""==a||(a==w().join("")?n=[]:U(n),I(i,n))}}).bind("click.inputmask",function(){var t=e(this),i=this;if(t.is(":focus")){var n=L(i);if(n.begin==n.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=e.inArray(r.radixPoint,x())&&(le||x().join("")==w().join("")))L(i,e.inArray(r.radixPoint,x())),le=!1;else{var a=R(n.begin),o=A(f(a));o>a?L(i,_(a)?a:A(a)):L(i,o)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){L(e,0,A(f()))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",W).bind("cut.inputmask",function(t){oe=!0;var i=this,n=e(i),a=L(i);B(i,e.inputmask.keyCode.DELETE,a),I(i,x(),d().p,t,J!=x().join("")),i._valueGet()==w().join("")&&n.trigger("cleared"),r.showTooltip&&n.prop("title",d().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),ie.bind("keydown.inputmask",G).bind("keypress.inputmask",K),c||ie.bind("compositionstart.inputmask",Z).bind("compositionupdate.inputmask",V).bind("compositionend.inputmask",Q),"paste"===u&&ie.bind("input.inputmask",Y)),ie.bind("setvalue.inputmask",function(){var t=this,i=t._valueGet();t._valueSet(e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(t,i,r)||i:i),F(t,!0,!1),J=x().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t._valueGet()==w().join("")&&t._valueSet("")}),H(t);var o=e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(t,t._valueGet(),r)||t._valueGet():t._valueGet();F(t,!0,!1,o.split(""));var s=x().slice();J=s.join("");var l;try{l=document.activeElement}catch(h){}z(s)===!1&&r.clearIncomplete&&p(),r.clearMaskOnLostFocus&&(s.join("")==w().join("")?s=[]:U(s)),I(t,s),l===t&&L(t,A(f())),N(t)}var J,ee,te,ie,ne,ae=!1,re=!1,oe=!1,se=!1,le=!0;if(void 0!=n)switch(n.action){case"isComplete":return ie=e(n.el),a=ie.data("_inputmask").maskset,r=ie.data("_inputmask").opts,z(n.buffer);case"unmaskedvalue":return ie=n.$input,a=ie.data("_inputmask").maskset,r=ie.data("_inputmask").opts,ae=n.$input.data("_inputmask").isRTL,O(n.$input);case"mask":J=x().join(""),X(n.el);break;case"format":ie=e({}),ie.data("_inputmask",{maskset:a,opts:r,isRTL:r.numericInput}),r.numericInput&&(ae=!0);var ce=(e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(ie,n.value,r)||n.value:n.value).split("");return F(ie,!1,!1,ae?ce.reverse():ce),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite.call(this,void 0,x(),0,r),n.metadata?{value:ae?x().slice().reverse().join(""):x().join(""),metadata:ie.inputmask("getmetadata")}:ae?x().slice().reverse().join(""):x().join("");case"isValid":ie=e({}),ie.data("_inputmask",{maskset:a,opts:r,isRTL:r.numericInput}),r.numericInput&&(ae=!0);var ce=n.value.split("");F(ie,!1,!0,ae?ce.reverse():ce);for(var ue=x(),de=M(),pe=ue.length-1;pe>de&&!_(pe);pe--);return ue.splice(de,pe+1-de),z(ue)&&n.value==ue.join("");case"getemptymask":return ie=e(n.el),a=ie.data("_inputmask").maskset,r=ie.data("_inputmask").opts,w();case"remove":var fe=n.el;ie=e(fe),a=ie.data("_inputmask").maskset,r=ie.data("_inputmask").opts,fe._valueSet(O(ie)),ie.unbind(".inputmask"),ie.removeData("_inputmask");var he;Object.getOwnPropertyDescriptor&&(he=Object.getOwnPropertyDescriptor(fe,"value")),he&&he.get?fe._valueGet&&Object.defineProperty(fe,"value",{get:fe._valueGet,set:fe._valueSet}):document.__lookupGetter__&&fe.__lookupGetter__("value")&&fe._valueGet&&(fe.__defineGetter__("value",fe._valueGet),fe.__defineSetter__("value",fe._valueSet));try{delete fe._valueGet,delete fe._valueSet}catch(ge){fe._valueGet=void 0,fe._valueSet=void 0}break;case"getmetadata":if(ie=e(n.el),a=ie.data("_inputmask").maskset,r=ie.data("_inputmask").opts,e.isArray(a.metadata)){for(var me,ve=f(),ye=ve;ye>=0;ye--)if(d().validPositions[ye]&&void 0!=d().validPositions[ye].alternation){
me=d().validPositions[ye].alternation;break}return void 0!=me?a.metadata[d().validPositions[ve].locator[me]]:a.metadata[0]}return a.metadata}}if(void 0===e.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i"))),c=null!==o.match(new RegExp("android.*firefox.*","i")),u=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),t("paste")?"paste":t("input")?"input":"propertychange");e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:e.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,i,o){var s=e.extend(!0,{},e.inputmask.defaults,i);return n(s.alias,i,s),r({action:"format",value:t,metadata:o},a(s,i&&void 0!==i.definitions),s)},isValid:function(t,i){var o=e.extend(!0,{},e.inputmask.defaults,i);return n(o.alias,i,o),r({action:"isValid",value:t},a(o,i&&void 0!==i.definitions),o)}},e.fn.inputmask=function(t,i){function o(t,i,a){var r=e(t);r.data("inputmask-alias")&&n(r.data("inputmask-alias"),e.extend(!0,{},i),i);for(var o in i){var s=r.data("inputmask-"+o.toLowerCase());void 0!=s&&(s="boolean"==typeof s?s:s.toString(),"mask"==o&&0==s.indexOf("[")?(i[o]=s.replace(/[\s[\]]/g,"").split("','"),i[o][0]=i[o][0].replace("'",""),i[o][i[o].length-1]=i[o][i[o].length-1].replace("'","")):i[o]=s,a&&(a[o]=i[o]))}return i}var s,l=e.extend(!0,{},e.inputmask.defaults,i);if("string"==typeof t)switch(t){case"mask":return n(l.alias,i,l),this.each(function(){return o(this,l),s=a(l,i&&void 0!==i.definitions),void 0==s?this:void r({action:"mask",el:this},s,l)});case"unmaskedvalue":var c=e(this);return c.data("_inputmask")?r({action:"unmaskedvalue",$input:c}):c.val();case"remove":return this.each(function(){var t=e(this);t.data("_inputmask")&&r({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?r({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?r({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?r({action:"getmetadata",el:this}):void 0;default:return n(l.alias,i,l),n(t,i,l)||(l.mask=t),this.each(function(){return o(this,l),s=a(l,i&&void 0!==i.definitions),void 0==s?this:void r({action:"mask",el:this},s,l)})}else{if("object"==typeof t)return l=e.extend(!0,{},e.inputmask.defaults,t),n(l.alias,t,l),this.each(function(){return o(this,l),s=a(l,t&&void 0!==t.definitions),void 0==s?this:void r({action:"mask",el:this},s,l)});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var a=e.parseJSON("{"+t+"}");e.extend(!0,a,i),l=e.extend(!0,{},e.inputmask.defaults,a),l=o(this,l),n(l.alias,a,l),l.alias=void 0,e(this).inputmask("mask",l)}catch(r){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){l=e.extend(!0,{},e.inputmask.defaults,{});var s={};l=o(this,l,s),n(l.alias,s,l),l.alias=void 0,e(this).inputmask("mask",l)}})}}}return e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var i=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(t){var i=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,i){if(isNaN(e))return!1;var n=parseInt(e.concat(t.toString().slice(e.length))),a=parseInt(e.concat(i.toString().slice(e.length)));return(isNaN(n)?!1:n>=t&&i>=n)||(isNaN(a)?!1:a>=t&&i>=a)},determinebaseyear:function(e,t,i){var n=(new Date).getFullYear();if(e>n)return e;if(n>t){for(var a=t.toString().slice(0,2),r=t.toString().slice(2,4);a+i>t;)a--;var o=a+r;return e>o?e:o}return n},onKeyDown:function(t,i,n,a){var r=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;r.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString()),r.triggerHandler("setvalue.inputmask")}},getFrontValue:function(e,t,i){for(var n=0,a=0,r=0;r<e.length&&"2"!=e.charAt(r);r++){var o=i.definitions[e.charAt(r)];o?(n+=a,a=o.cardinality):a++}return t.join("").substr(n,a)},definitions:{1:{validator:function(e,t,i,n,a){var r=a.regex.val1.test(e);return n||r||e.charAt(1)!=a.separator&&-1=="-./".indexOf(e.charAt(1))||!(r=a.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,i,n,a){var r=e;isNaN(t.buffer[i+1])||(r+=t.buffer[i+1]);var o=1==r.length?a.regex.val1pre.test(r):a.regex.val1.test(r);if(!n&&!o){if(o=a.regex.val1.test(e+"0"))return t.buffer[i]=e,t.buffer[++i]="0",{pos:i,c:"0"};if(o=a.regex.val1.test("0"+e))return t.buffer[i]="0",i++,{pos:i}}return o},cardinality:1}]},2:{validator:function(e,t,i,n,a){var r=a.getFrontValue(t.mask,t.buffer,a);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=a.regex.val2(a.separator).test(r+e);if(!n&&!o&&(e.charAt(1)==a.separator||-1!="-./".indexOf(e.charAt(1)))&&(o=a.regex.val2(a.separator).test(r+"0"+e.charAt(0))))return t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)};if(a.mask.indexOf("2")==a.mask.length-1&&o){var s=t.buffer.join("").substr(4,4)+e;if(s!=a.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}return o},cardinality:2,prevalidator:[{validator:function(e,t,i,n,a){isNaN(t.buffer[i+1])||(e+=t.buffer[i+1]);var r=a.getFrontValue(t.mask,t.buffer,a);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=1==e.length?a.regex.val2pre(a.separator).test(r+e):a.regex.val2(a.separator).test(r+e);return n||o||!(o=a.regex.val2(a.separator).test(r+"0"+e))?o:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(e,t,i,n,a){if(a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)){var r=t.buffer.join("").substr(0,6);if(r!=a.leapday)return!0;var o=parseInt(e,10);return o%4===0?o%100===0?o%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(e,t,i,n,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!n&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[i++]=o.charAt(0),{pos:i};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,2),r=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[i++]=o.charAt(0),t.buffer[i++]=o.charAt(1),{pos:i}}return r},cardinality:1},{validator:function(e,t,i,n,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!n&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2);if(r=a.isInYearRange(e[0]+o[1]+e[1],a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[i++]=o.charAt(1),{pos:i};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2),a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear)){var s=t.buffer.join("").substr(0,6);if(s!=a.leapday)r=!0;else{var l=parseInt(e,10);r=l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}}else r=!1;if(r)return t.buffer[i-1]=o.charAt(0),t.buffer[i++]=o.charAt(1),t.buffer[i++]=e.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return r},cardinality:2},{validator:function(e,t,i,n,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var i=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(t,i,n,a){var r=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;r.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),r.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(t,i,n,a){var r=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;r.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString()),r.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,i,n,a){if("24"==a.hourFormat&&24==parseInt(e,10))return t.buffer[i-1]="0",t.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var r=a.regex.hrs.test(e);if(!n&&!r&&(e.charAt(1)==a.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(r=a.regex.hrs.test("0"+e.charAt(0))))return t.buffer[i-1]="0",t.buffer[i]=e.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:a.timeseparator};if(r&&"24"!==a.hourFormat&&a.regex.hrs24.test(e)){var o=parseInt(e,10);return 24==o?(t.buffer[i+5]="a",t.buffer[i+6]="m"):(t.buffer[i+5]="p",t.buffer[i+6]="m"),o-=12,10>o?(t.buffer[i]=o.toString(),t.buffer[i-1]="0"):(t.buffer[i]=o.toString().charAt(1),t.buffer[i-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:t.buffer[i]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,i,n,a){var r=a.regex.hrspre.test(e);return n||r||!(r=a.regex.hrs.test("0"+e))?r:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,i,n,a){var r=a.regex.mspre.test(e);return n||r||!(r=a.regex.ms.test("0"+e))?r:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(e,t,i,n,a){return a.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(e,t,i,n,a){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=8,i=0;t>i;i++)e[i]=function(){var e=i;return{validator:function(t,i,n,a,r){if(r.regex["urlpre"+(e+1)]){var o,s=t;e+1-t.length>0&&(s=i.buffer.join("").substring(0,e+1-t.length)+""+s);var l=r.regex["urlpre"+(e+1)].test(s);if(!a&&!l){for(n-=e,o=0;o<r.defaultPrefix.length;o++)i.buffer[n]=r.defaultPrefix[o],n++;for(o=0;o<s.length-1;o++)i.buffer[n]=s[o],n++;return{pos:n}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,i,n,a){return i-1>-1&&"."!=t.buffer[i-1]?(e=t.buffer[i-1]+e,e=i-2>-1&&"."!=t.buffer[i-2]?t.buffer[i-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e,t){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){function t(t){for(var i="",n=0;n<t.length;n++)i+=e.definitions[t[n]]?"\\"+t[n]:t[n];return i}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&("."==e.radixPoint?e.groupSeparator=",":","==e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),n=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==n?i-1:i)}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var a=t(e.prefix);return a+="[+]",a+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),""!=e.negationSymbol.back&&(a+="[-]"),a+=t(e.suffix),e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(t,i,n,a){var r=!1;t.length>=a.suffix.length&&t.join("").indexOf(a.suffix)==t.length-a.suffix.length&&(t.length=t.length-a.suffix.length,r=!0),i=i>=t.length?t.length-1:i<a.prefix.length?a.prefix.length:i;var o=!1,s=t[i];if(""==a.groupSeparator||-1!=e.inArray(a.radixPoint,t)&&i>=e.inArray(a.radixPoint,t)||new RegExp("["+e.inputmask.escapeRegex(a.negationSymbol.front)+"+]").test(s)){if(r)for(var l=0,c=a.suffix.length;c>l;l++)t.push(a.suffix.charAt(l));return{pos:i}}var u=t.slice();s==a.groupSeparator&&(u.splice(i--,1),s=u[i]),n?u[i]="?":u.splice(i,0,"?");var d=u.join(""),p=d;if(d.length>0&&a.autoGroup||n&&-1!=d.indexOf(a.groupSeparator)){var f=e.inputmask.escapeRegex(a.groupSeparator);o=0==d.indexOf(a.groupSeparator),d=d.replace(new RegExp(f,"g"),"");var h=d.split(a.radixPoint);if(d=""==a.radixPoint?d:h[0],d!=a.prefix+"?0"&&d.length>=a.groupSize+a.prefix.length)for(var g=new RegExp("([-+]?[\\d?]+)([\\d?]{"+a.groupSize+"})");g.test(d);)d=d.replace(g,"$1"+a.groupSeparator+"$2"),d=d.replace(a.groupSeparator+a.groupSeparator,a.groupSeparator);""!=a.radixPoint&&h.length>1&&(d+=a.radixPoint+h[1])}o=p!=d,t.length=d.length;for(var l=0,c=d.length;c>l;l++)t[l]=d.charAt(l);var m=e.inArray("?",t);if(n?t[m]=s:t.splice(m,1),!o&&r)for(var l=0,c=a.suffix.length;c>l;l++)t.push(a.suffix.charAt(l));return{pos:m,refreshFromBuffer:o,buffer:t}},onBeforeWrite:function(t,i,n,a){if(t&&"blur"==t.type){var r=i.join(""),o=r.replace(a.prefix,"");if(o=o.replace(a.suffix,""),o=o.replace(new RegExp(e.inputmask.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(o=o.replace(e.inputmask.escapeRegex(a.radixPoint),".")),isFinite(o)&&isFinite(a.min)&&parseFloat(o)<parseFloat(a.min))return e.extend(!0,{refreshFromBuffer:!0,buffer:(a.prefix+a.min).split("")},a.postFormat((a.prefix+a.min).split(""),0,!0,a));var s=""!=a.radixPoint?i.join("").split(a.radixPoint):[i.join("")],l=s[0].match(a.regex.integerPart(a)),c=2==s.length?s[1].match(a.regex.integerNPart(a)):void 0;!l||l[0]!=a.negationSymbol.front+"0"&&l[0]!=a.negationSymbol.front&&"+"!=l[0]||void 0!=c&&!c[0].match(/^0+$/)||i.splice(l.index,1);var u=e.inArray(a.radixPoint,i);if(-1!=u&&isFinite(a.digits)&&!a.digitsOptional){for(var d=1;d<=a.digits;d++)(void 0==i[u+d]||i[u+d]==a.placeholder.charAt(0))&&(i[u+d]="0");return{refreshFromBuffer:!0,buffer:i}}}if(a.autoGroup){var p=a.postFormat(i,n-1,!0,a);return p.caret=n<=a.prefix.length?p.pos:p.pos+1,p}},regex:{integerPart:function(t){return new RegExp("["+e.inputmask.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.inputmask.escapeRegex(t.groupSeparator)+"]+")}},signHandler:function(e,t,i,n,a){if(!n&&a.allowMinus&&"-"===e||a.allowPlus&&"+"===e){var r=t.buffer.join("").match(a.regex.integerPart(a));if(r&&r[0].length>0)return t.buffer[r.index]==("-"===e?"+":a.negationSymbol.front)?"-"==e?""!=a.negationSymbol.back?{pos:r.index,c:a.negationSymbol.front,remove:r.index,caret:i,insert:{pos:t.buffer.length-a.suffix.length-1,c:a.negationSymbol.back}}:{pos:r.index,c:a.negationSymbol.front,remove:r.index,caret:i}:""!=a.negationSymbol.back?{pos:r.index,c:"+",remove:[r.index,t.buffer.length-a.suffix.length-1],caret:i}:{pos:r.index,c:"+",remove:r.index,caret:i}:t.buffer[r.index]==("-"===e?a.negationSymbol.front:"+")?"-"==e&&""!=a.negationSymbol.back?{remove:[r.index,t.buffer.length-a.suffix.length-1],caret:i-1}:{remove:r.index,caret:i-1}:"-"==e?""!=a.negationSymbol.back?{pos:r.index,c:a.negationSymbol.front,caret:i+1,insert:{pos:t.buffer.length-a.suffix.length,c:a.negationSymbol.back}}:{pos:r.index,c:a.negationSymbol.front,caret:i+1}:{pos:r.index,c:e,caret:i+1}}return!1},radixHandler:function(t,i,n,a,r){if(!a&&t===r.radixPoint&&r.digits>0){var o=e.inArray(r.radixPoint,i.buffer),s=i.buffer.join("").match(r.regex.integerPart(r));if(-1!=o&&i.validPositions[o])return i.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"==s[0]&&s.index+1!=n)return i.buffer[s?s.index:n]="0",{pos:(s?s.index:n)+1}}return!1},leadingZeroHandler:function(t,i,n,a,r){var o=i.buffer.join("").match(r.regex.integerNPart(r)),s=e.inArray(r.radixPoint,i.buffer);if(o&&!a&&(-1==s||s>=n))if(0==o[0].indexOf("0")){n<r.prefix.length&&(n=o.index);var l=e.inArray(r.radixPoint,i._buffer),c=i._buffer&&i.buffer.slice(s).join("")==i._buffer.slice(l).join("")||0==parseInt(i.buffer.slice(s+1).join("")),u=i._buffer&&i.buffer.slice(o.index,s).join("")==i._buffer.slice(r.prefix.length,l).join("")||"0"==i.buffer.slice(o.index,s).join("");if(-1==s||c&&u)return i.buffer.splice(o.index,1),n=n>o.index?n-1:o.index,{pos:n,remove:o.index};if(o.index+1==n||"0"==t)return i.buffer.splice(o.index,1),n=o.index,{pos:n,remove:o.index}}else if("0"===t&&n<=o.index&&o[0]!=r.groupSeparator)return!1;return!0},postValidation:function(t,i){var n=!0,a=t.join(""),r=a.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.inputmask.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(e.inputmask.escapeRegex(i.radixPoint),".")),r=r.replace(new RegExp("^"+e.inputmask.escapeRegex(i.negationSymbol.front)),"-"),r=r.replace(new RegExp(e.inputmask.escapeRegex(i.negationSymbol.back)+"$"),""),isFinite(r)&&isFinite(i.max)&&(n=parseFloat(r)<=parseFloat(i.max)),n},definitions:{"~":{validator:function(t,i,n,a,r){var o=r.signHandler(t,i,n,a,r);if(!o&&(o=r.radixHandler(t,i,n,a,r),!o&&(o=a?new RegExp("[0-9"+e.inputmask.escapeRegex(r.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),o===!0&&(o=r.leadingZeroHandler(t,i,n,a,r),o===!0)))){var s=e.inArray(r.radixPoint,i.buffer);o=r.digitsOptional===!1&&n>s&&!a?{pos:n,remove:n}:{pos:n}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,t,i,n,a){var r=a.signHandler(e,t,i,n,a);return!r&&(n&&a.allowMinus&&e===a.negationSymbol.front||a.allowMinus&&"-"==e||a.allowPlus&&"+"==e)&&(r="-"==e?""!=a.negationSymbol.back?{pos:i,c:"-"===e?a.negationSymbol.front:"+",caret:i+1,insert:{pos:t.buffer.length,c:a.negationSymbol.back}}:{pos:i,c:"-"===e?a.negationSymbol.front:"+",caret:i+1}:!0),r},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,t,i,n,a){var r=a.signHandler(e,t,i,n,a);return!r&&n&&a.allowMinus&&e===a.negationSymbol.back&&(r=!0),r},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,i,n,a,r){var o=r.signHandler(t,i,n,a,r);if(!o){var s="["+e.inputmask.escapeRegex(r.radixPoint)+"]";o=new RegExp(s).test(t),o&&i.validPositions[n]&&i.validPositions[n].match.placeholder==r.radixPoint&&(o={caret:n+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(t,i,n){var a=t.replace(n.prefix,"");return a=a.replace(n.suffix,""),a=a.replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(a=a.replace(e.inputmask.escapeRegex.call(this,n.radixPoint),"."),Number(a)):a},isComplete:function(t,i){var n=t.join(""),a=t.slice();if(i.postFormat(a,0,!0,i),a.join("")!=n)return!1;var r=n.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.inputmask.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(e.inputmask.escapeRegex(i.radixPoint),".")),isFinite(r)},onBeforeMask:function(t,i){if(""!=i.radixPoint&&isFinite(t))t=t.toString().replace(".",i.radixPoint);else{var n=t.match(/,/g),a=t.match(/\./g);a&&n?a.length>n.length?(t=t.replace(/\./g,""),t=t.replace(",",i.radixPoint)):n.length>a.length?(t=t.replace(/,/g,""),t=t.replace(".",i.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.inputmask.escapeRegex(i.groupSeparator),"g"),"")}return 0==i.digits&&(-1!=t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!=t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),t},canClearPosition:function(t,i,n,a,r){var o=t.validPositions[i].input,s=o!=r.radixPoint&&isFinite(o)||i==n||o==r.groupSeparator||o==r.negationSymbol.front||o==r.negationSymbol.back;if(s&&isFinite(o)){var l;if(!a&&t.buffer){l=t.buffer.join("").substr(0,i).match(r.regex.integerNPart(r));var c=i+1,u=null==l||0==parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""));if(u)for(;t.validPositions[c]&&(t.validPositions[c].input==r.groupSeparator||"0"==t.validPositions[c].input);)delete t.validPositions[c],c++}var d=[];for(var p in t.validPositions)d.push(t.validPositions[p].input);l=d.join("").match(r.regex.integerNPart(r));var f=e.inArray(r.radixPoint,t.buffer);if(l&&(-1==f||f>=i))if(0==l[0].indexOf("0"))s=l.index!=i||-1==f;else{var h=parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""));-1!=f&&10>h&&"0"==r.placeholder.charAt(0)&&(t.validPositions[i].input="0",t.p=r.prefix.length+1,s=!1)}}return s}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(t){t.definitions["#"]=t.definitions[9];var i=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){i=e},error:function(e,i,n){alert(n+" - "+t.url)}}),i=i.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,t){var i=e.replace(/^0/g,"");return(i.indexOf(t.countrycode)>1||-1==i.indexOf(t.countrycode))&&(i="+"+t.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,i,n,a,r){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(){var e,t,i=new o,n=[];for(r.regexTokens=[];e=r.tokenizer.exec(r.regex);)switch(t=e[0],t.charAt(0)){case"(":n.push(new o(!0));break;case")":var a=n.pop();n.length>0?n[n.length-1].matches.push(a):i.matches.push(a);break;case"{":case"+":case"*":var s=new o(!1,!0);t=t.replace(/[{}]/g,"");var l=t.split(","),c=isNaN(l[0])?l[0]:parseInt(l[0]),u=1==l.length?c:isNaN(l[1])?l[1]:parseInt(l[1]);if(s.quantifier={min:c,max:u},n.length>0){var d=n[n.length-1].matches;if(e=d.pop(),!e.isGroup){var a=new o(!0);a.matches.push(e),e=a}d.push(e),d.push(s)}else{if(e=i.matches.pop(),!e.isGroup){var a=new o(!0);a.matches.push(e),e=a}i.matches.push(e),i.matches.push(s)}break;default:n.length>0?n[n.length-1].matches.push(t):i.matches.push(t)}i.matches.length>0&&r.regexTokens.push(i)}function l(t,i){var n=!1;i&&(u+="(",p++);for(var a=0;a<t.matches.length;a++){var r=t.matches[a];if(1==r.isGroup)n=l(r,!0);else if(1==r.isQuantifier){var o=e.inArray(r,t.matches),s=t.matches[o-1],c=u;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!=u&&r.repeaterPart.length>u.length&&!(n=l(s,!0)););n=n||l(s,!0),n&&(r.repeaterPart=u),u=c+r.quantifier.max}else{for(var d=0,h=r.quantifier.max-1;h>d&&!(n=l(s,!0));d++);u=c+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!=r.matches)for(var g=0;g<r.length&&!(n=l(r[g],i));g++);else{var m;if("["==r.charAt(0)){m=u,m+=r;for(var v=0;p>v;v++)m+=")";var y=new RegExp("^("+m+")$");n=y.test(f)}else for(var b=0,w=r.length;w>b;b++)if("\\"!=r.charAt(b)){m=u,m+=r.substr(0,b+1),m=m.replace(/\|$/,"");for(var v=0;p>v;v++)m+=")";var y=new RegExp("^("+m+")$");if(n=y.test(f))break}u+=r}if(n)break}return i&&(u+=")",p--),n}null==r.regexTokens&&s();var c=i.buffer.slice(),u="",d=!1,p=0;c.splice(n,0,t);for(var f=c.join(""),h=0;h<r.regexTokens.length;h++){var o=r.regexTokens[h];if(d=l(o,o.isGroup))break}return d},cardinality:1}}}}),e.fn.inputmask}(jQuery),function(e){"use strict";e.fn.fileinputLocales={};var t,i,n,a,r,o,s,l,c,u,d,p,f,h,g,m,v,y,b,w,x,k,C,$,S,_,P,A,E,T,I,D,F,j,O,R,L,M,U,z,q,N,H,B,G,K,W,Y,Z,V,Q,X;t=function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,i=document.createElement("div");return i.innerHTML="<!--[if IE "+e+"]> <i></i> <![endif]-->",t=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),t},i=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)},n=function(e,t,i,n){var a=n?t:t+".fileinput";e.off(a).on(a,i)},a={data:{},init:function(e){var t=e.initialPreview,i=e.id;t.length>0&&!G(t)&&(t=t.split(e.initialPreviewDelimiter)),a.data[i]={content:t,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags,delimiter:e.initialPreviewDelimiter,template:e.previewGenericTemplate,msg:function(t){return e.getMsgSelected(t)},initId:e.previewInitId,footer:e.getLayoutTemplate("footer").replace(/\{progress}/g,e.renderThumbProgress()),isDelete:e.initialPreviewShowDelete,caption:e.initialCaption,actions:function(t,i,n,a,r){return e.renderFileActions(t,i,n,a,r)}}},fetch:function(e){return a.data[e].content.filter(function(e){return null!==e})},count:function(e,t){return a.data[e]&&a.data[e].content?t?a.data[e].content.length:a.fetch(e).length:0},get:function(t,i,n){var r,o,s="init_"+i,l=a.data[t],c=l.config[i],u=l.initId+"-"+s,d=" file-preview-initial";return n=void 0===n?!0:n,null===l.content[i]?"":(B(c)||B(c.frameClass)||(d+=" "+c.frameClass),r=l.template.replace(/\{previewId}/g,u).replace(/\{frameClass}/g,d).replace(/\{fileindex}/g,s).replace(/\{content}/g,l.content[i]).replace(/\{footer}/g,a.footer(t,i,n)),l.tags.length&&l.tags[i]&&(r=V(r,l.tags[i])),B(c)||B(c.frameAttr)||(o=e(document.createElement("div")).html(r),o.find(".file-preview-initial").attr(c.frameAttr),r=o.html(),o.remove()),r)},add:function(t,i,n,r,o){var s,l=e.extend(!0,{},a.data[t]);return G(i)||(i=i.split(l.delimiter)),o?(s=l.content.push(i)-1,l.config[s]=n,l.tags[s]=r):(s=i.length,l.content=i,l.config=n,l.tags=r),a.data[t]=l,s},set:function(t,i,n,r,o){var s,l,c=e.extend(!0,{},a.data[t]);if(i&&i.length&&(G(i)||(i=i.split(c.delimiter)),l=i.filter(function(e){return null!==e}),l.length)){if(void 0===c.content&&(c.content=[]),void 0===c.config&&(c.config=[]),void 0===c.tags&&(c.tags=[]),o){for(s=0;s<i.length;s++)i[s]&&c.content.push(i[s]);for(s=0;s<n.length;s++)n[s]&&c.config.push(n[s]);for(s=0;s<r.length;s++)r[s]&&c.tags.push(r[s])}else c.content=i,c.config=n,c.tags=r;a.data[t]=c;
}},unset:function(e,t){var i=a.count(e);if(i){if(1===i)return a.data[e].content=[],void(a.data[e].config=[]);a.data[e].content[t]=null,a.data[e].config[t]=null}},out:function(e){var t,i="",n=a.data[e],r=a.count(e,!0);if(0===r)return{content:"",caption:""};for(var o=0;r>o;o++)i+=a.get(e,o);return t=n.msg(a.count(e)),{content:i,caption:t}},footer:function(e,t,i){var n=a.data[e];if(i=void 0===i?!0:i,0===n.config.length||B(n.config[t]))return"";var r=n.config[t],o=K("caption",r)?r.caption:"",s=K("width",r)?r.width:"auto",l=K("url",r)?r.url:!1,c=K("key",r)?r.key:null,u=l===!1&&i,d=n.isDelete?n.actions(!1,!0,u,l,c):"",p=n.footer.replace(/\{actions}/g,d);return p.replace(/\{caption}/g,o).replace(/\{width}/g,s).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},r=function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},o=function(){return window.File&&window.FileReader},s=function(){var e=document.createElement("div");return!t(9)&&!i()&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},l=function(){return o()&&window.FormData},c=function(e,t){e.removeClass(t).addClass(t)},u='style="width:{width};height:{height};"',d='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',p='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',f={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},h='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',g='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',m='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',y='<div class="close fileinput-remove">&times;</div>\n',v='<span class="glyphicon glyphicon-file kv-caption-icon"></span>',b='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',w='<button type="{type}" tabindex="500" title="{title}" class="{css}"{status}>{icon}{label}</button>',x='<a href="{href}" tabindex="500" title="{title}" class="{css}"{status}>{icon}{label}</a>',k='<div tabindex="500" class="{css}"{status}>{icon}{label}</div>',C='<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',$='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',S='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',_='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',P='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}"{dataUrl}{dataKey}>{removeIcon}</button>\n',A='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',E='<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',T='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',I='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       '+p+"\n    </object>\n   {footer}\n</div>",D='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" '+u+">\n   {footer}\n</div>\n",F='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" '+u+">{data}</pre>\n   {zoom}\n   {footer}\n</div>",j='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+u+'>\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       '+p+"\n   </video>\n   {footer}\n</div>\n",O='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+u+'>\n   <audio controls>\n       <source src="{data}" type="{type}">\n       '+p+"\n   </audio>\n   {footer}\n</div>",R='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+u+'>\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+d+"       "+p+"\n   </object>\n   {footer}\n</div>\n",L='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+u+'>\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n'+d+"         "+p+"\n   </object>\n   {footer}\n</div>",M='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+u+'>\n   <div class="file-preview-other-frame">\n   '+p+'\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>',U={main1:h,main2:g,preview:m,close:y,zoom:E,icon:v,caption:b,modal:C,progress:$,footer:S,actions:_,actionDelete:P,actionUpload:A,btnDefault:w,btnLink:x,btnBrowse:k},z={generic:T,html:I,image:D,text:F,video:j,audio:O,flash:R,object:L,other:M},q=["image","html","text","video","audio","flash","object"],N={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},H={image:function(e,t){return void 0!==e?e.match("image.*"):t.match(/\.(gif|png|jpe?g)$/i)},html:function(e,t){return void 0!==e?"text/html"===e:t.match(/\.(htm|html)$/i)},text:function(e,t){return void 0!==e&&e.match("text.*")||t.match(/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return void 0!==e&&e.match(/\.video\/(ogg|mp4|webm|3gp)$/i)||t.match(/\.(og?|mp4|webm|3gp)$/i)},audio:function(e,t){return void 0!==e&&e.match(/\.audio\/(ogg|mp3|wav)$/i)||t.match(/\.(ogg|mp3|wav)$/i)},flash:function(e,t){return void 0!==e&&"application/x-shockwave-flash"===e||t.match(/\.(swf)$/i)},object:function(){return!0},other:function(){return!0}},B=function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},G=function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},K=function(e,t){return"object"==typeof t&&e in t},W=function(t,i,n){return B(t)||B(t[i])?n:e(t[i])},Y=function(){return Math.round((new Date).getTime()+100*Math.random())},Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},V=function(t,i){var n=t;return i?(e.each(i,function(e,t){"function"==typeof t&&(t=t()),n=n.split(e).join(t)}),n):n},Q=window.URL||window.webkitURL,X=function(i,n){var a=this;a.$element=e(i),a.validate()&&(a.isPreviewable=o(),a.isIE9=t(9),a.isIE10=t(10),a.isPreviewable||a.isIE9?(a.init(n),a.listen()):a.$element.removeClass("file-loading"))},X.prototype={constructor:X,validate:function(){var e,t=this;return"file"===t.$element.attr("type")?!0:(e='<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',t.$element.after(e),!1)},init:function(t){var i,n=this,o=n.$element;e.each(t,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":n[e]=r(t);break;default:n[e]=t}}),n.fileInputCleared=!1,n.fileBatchCompleted=!0,n.isPreviewable||(n.showPreview=!1),n.uploadFileAttr=B(o.attr("name"))?"file_data":o.attr("name"),n.reader=null,n.formdata={},n.clearStack(),n.uploadCount=0,n.uploadStatus={},n.uploadLog=[],n.uploadAsyncCount=0,n.loadedImages=[],n.totalImagesCount=0,n.ajaxRequests=[],n.isError=!1,n.ajaxAborted=!1,n.cancelling=!1,i=n.getLayoutTemplate("progress"),n.progressTemplate=i.replace("{class}",n.progressClass),n.progressCompleteTemplate=i.replace("{class}",n.progressCompleteClass),n.dropZoneEnabled=s()&&n.dropZoneEnabled,n.isDisabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.isUploadable=l()&&!B(n.uploadUrl),n.slug="function"==typeof t.slugCallback?t.slugCallback:n.slugDefault,n.mainTemplate=n.showCaption?n.getLayoutTemplate("main1"):n.getLayoutTemplate("main2"),n.captionTemplate=n.getLayoutTemplate("caption"),n.previewGenericTemplate=n.getPreviewTemplate("generic"),n.resizeImage&&(n.maxImageWidth||n.maxImageHeight)&&(n.imageCanvas=document.createElement("canvas"),n.imageCanvasContext=n.imageCanvas.getContext("2d")),B(n.$element.attr("id"))&&n.$element.attr("id",Y()),void 0===n.$container?n.$container=n.createContainer():n.refreshContainer(),n.$progress=n.$container.find(".kv-upload-progress"),n.$btnUpload=n.$container.find(".fileinput-upload"),n.$captionContainer=W(t,"elCaptionContainer",n.$container.find(".file-caption")),n.$caption=W(t,"elCaptionText",n.$container.find(".file-caption-name")),n.$previewContainer=W(t,"elPreviewContainer",n.$container.find(".file-preview")),n.$preview=W(t,"elPreviewImage",n.$container.find(".file-preview-thumbnails")),n.$previewStatus=W(t,"elPreviewStatus",n.$container.find(".file-preview-status")),n.$errorContainer=W(t,"elErrorContainer",n.$previewContainer.find(".kv-fileinput-error")),B(n.msgErrorClass)||c(n.$errorContainer,n.msgErrorClass),n.$errorContainer.hide(),n.fileActionSettings=e.extend(f,t.fileActionSettings),n.previewInitId="preview-"+Y(),n.id=n.$element.attr("id"),a.init(n),n.initPreview(!0),n.initPreviewDeletes(),n.options=t,n.setFileDropZoneTitle(),n.$element.removeClass("file-loading"),n.$element.attr("disabled")&&n.disable()},parseError:function(t,i,n){var a=this,r=e.trim(i+""),o="."===r.slice(-1)?"":".",s=void 0!==t.responseJSON&&void 0!==t.responseJSON.error?t.responseJSON.error:t.responseText;return a.cancelling&&a.msgUploadAborted&&(r=a.msgUploadAborted),a.showAjaxErrorDetails&&s?(s=e.trim(s.replace(/\n\s*\n/g,"\n")),s=s.length>0?"<pre>"+s+"</pre>":"",r+=o+s):r+=o,a.cancelling=!1,n?"<b>"+n+": </b>"+r:r},raise:function(t,i){var n=this,a=e.Event(t);if(void 0!==i?n.$element.trigger(a,i):n.$element.trigger(a),a.isDefaultPrevented())return!1;if(!a.result)return a.result;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:n.ajaxAborted=a.result}return!0},getLayoutTemplate:function(e){var t=this,i=K(e,t.layoutTemplates)?t.layoutTemplates[e]:U[e];return B(t.customLayoutTags)?i:V(i,t.customLayoutTags)},getPreviewTemplate:function(e){var t=this,i=K(e,t.previewTemplates)?t.previewTemplates[e]:z[e];return B(t.customPreviewTags)?i:V(i,t.customPreviewTags)},parseFilePreviewIcon:function(t,i){var n,a=this,r=a.previewFileIcon;return i&&i.indexOf(".")>-1&&(n=i.split(".").pop(),a.previewFileIconSettings&&a.previewFileIconSettings[n]&&(r=a.previewFileIconSettings[n]),a.previewFileExtSettings&&e.each(a.previewFileExtSettings,function(e,t){a.previewFileIconSettings[e]&&t(n)&&(r=a.previewFileIconSettings[e])})),t.indexOf("{previewFileIcon}")>-1?t.replace(/\{previewFileIconClass}/g,a.previewFileIconClass).replace(/\{previewFileIcon}/g,r):t},getOutData:function(e,t,i){var n=this;return e=e||{},t=t||{},i=i||n.filestack.slice(0)||{},{form:n.formdata,files:i,filenames:n.filenames,extra:n.getExtraData(),response:t,reader:n.reader,jqXHR:e}},listen:function(){var t=this,i=t.$element,a=t.$captionContainer,r=t.$btnFile,o=i.closest("form"),s=t.$container;n(i,"change",e.proxy(t.change,t)),n(r,"click",function(){t.raise("filebrowse"),t.isError&&!t.isUploadable&&t.clear(),a.focus()}),n(o,"reset",e.proxy(t.reset,t)),n(s.find(".fileinput-remove:not([disabled])"),"click",e.proxy(t.clear,t)),n(s.find(".fileinput-cancel"),"click",e.proxy(t.cancel,t)),t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&t.initDragDrop(),t.isUploadable||n(o,"submit",e.proxy(t.submitForm,t)),n(t.$container.find(".fileinput-upload"),"click",function(i){var n,a=e(this),r=!a.hasClass("disabled")&&B(a.attr("disabled"));return t.isUploadable?(i.preventDefault(),void(r&&t.upload())):void(r&&"submit"!==a.attr("type")&&(n=a.closest("form"),n.length&&n.trigger("submit"),i.preventDefault()))})},submitForm:function(){var e=this,t=e.$element,i=t.get(0).files;return i&&e.minFileCount>0&&e.getFileCount(i.length)<e.minFileCount?(e.noFilesError({}),!1):!e.abort({})},abort:function(t){var i,n=this;return n.ajaxAborted&&"object"==typeof n.ajaxAborted&&void 0!==n.ajaxAborted.message?(i=e.extend(n.getOutData(),t),i.abortData=n.ajaxAborted.data||{},i.abortMessage=n.ajaxAborted.message,n.cancel(),n.setProgress(100),n.showUploadError(n.ajaxAborted.message,i,"filecustomerror"),!0):!1},noFilesError:function(e){var t=this,i=t.minFileCount>1?t.filePlural:t.fileSingle,n=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),a=t.$errorContainer;t.addError(n),t.isError=!0,t.updateFileDetails(0),a.fadeIn(800),t.raise("fileerror",[e]),t.clearFileInput(),c(t.$container,"has-error")},setProgress:function(e,t){var i=this,n=Math.min(e,100),a=100>n?i.progressTemplate:i.progressCompleteTemplate;t=t||i.$progress,B(a)||t.html(a.replace(/\{percent}/g,n))},lock:function(){var e=this;e.resetErrors(),e.disable(),e.showRemove&&c(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e.raise("filelock",[e.filestack,e.getExtraData()])},unlock:function(e){var t=this;void 0===e&&(e=!0),t.enable(),t.showCancel&&c(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),e&&t.resetFileStack(),t.raise("fileunlock",[t.filestack,t.getExtraData()])},resetFileStack:function(){var t=this,i=0,n=[],a=[];t.getThumbs().each(function(){var r=e(this),o=r.attr("data-fileindex"),s=t.filestack[o];-1!==o&&(void 0!==s?(n[i]=s,a[i]=t.getFileName(s),r.attr({id:t.previewInitId+"-"+i,"data-fileindex":i}),i++):r.attr({id:"uploaded-"+Y(),"data-fileindex":"-1"}))}),t.filestack=n,t.filenames=a},destroy:function(){var e=this,t=e.$container;t.find(".file-drop-zone").off(),e.$element.insertBefore(t).off(".fileinput").removeData(),t.off().remove()},refresh:function(t){var i=this,n=i.$element;t=t?e.extend(i.options,t):i.options,i.destroy(),n.fileinput(t),n.val()&&n.trigger("change.fileinput")},initDragDrop:function(){var t=this,i=t.$container.find(".file-drop-zone"),a="dragenter.fileinput dragover.fileinput drop.fileinput";n(i,"dragenter.fileinput dragover.fileinput",function(i){var n=e.inArray("Files",i.originalEvent.dataTransfer.types)>-1;return i.stopPropagation(),i.preventDefault(),t.isDisabled||!n?(i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none")):void c(e(this),"highlighted")},!0),n(i,"dragleave",function(i){i.stopPropagation(),i.preventDefault(),t.isDisabled||e(this).removeClass("highlighted")}),n(i,"drop",function(i){i.preventDefault(),t.isDisabled||B(i.originalEvent.dataTransfer.files)||(t.change(i,"dragdrop"),e(this).removeClass("highlighted"))}),n(e(document),a,function(e){e.stopPropagation(),e.preventDefault()},!0)},setFileDropZoneTitle:function(){var e=this,t=e.$container.find(".file-drop-zone");t.find("."+e.dropZoneTitleClass).remove(),e.isUploadable&&e.showPreview&&0!==t.length&&!(e.getFileStack().length>0)&&e.dropZoneEnabled&&(0===t.find(".file-preview-frame").length&&B(e.defaultPreviewContent)&&t.prepend('<div class="'+e.dropZoneTitleClass+'">'+e.dropZoneTitle+"</div>"),e.$container.removeClass("file-input-new"),c(e.$container,"file-input-ajax-new"))},errorsExist:function(){var t,i=this;return i.$errorContainer.find("li").length?!0:(t=e(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),e.trim(t.text()).length?!0:!1)},getMsgSelected:function(e){var t=this,i=1===e?t.fileSingle:t.filePlural;return t.msgSelected.replace("{n}",e).replace("{files}",i)},renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},renderFileFooter:function(e,t){var i,n,a=this,r=a.fileActionSettings,o=a.getLayoutTemplate("footer");return a.isUploadable?(i=o.replace(/\{actions}/g,a.renderFileActions(!0,!0,!1,!1,!1)),n=i.replace(/\{caption}/g,e).replace(/\{width}/g,t).replace(/\{progress}/g,a.renderThumbProgress()).replace(/\{indicator}/g,r.indicatorNew).replace(/\{indicatorTitle}/g,r.indicatorNewTitle)):n=o.replace(/\{actions}/g,"").replace(/\{caption}/g,e).replace(/\{progress}/g,"").replace(/\{width}/g,t).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),n=V(n,a.previewThumbTags)},renderFileActions:function(e,t,i,n,a){if(!e&&!t)return"";var r=this,o=n===!1?"":' data-url="'+n+'"',s=a===!1?"":' data-key="'+a+'"',l=r.getLayoutTemplate("actionDelete"),c="",u=r.getLayoutTemplate("actions"),d=r.otherActionButtons.replace(/\{dataKey}/g,s),p=r.fileActionSettings,f=i?p.removeClass+" disabled":p.removeClass;return l=l.replace(/\{removeClass}/g,f).replace(/\{removeIcon}/g,p.removeIcon).replace(/\{removeTitle}/g,p.removeTitle).replace(/\{dataUrl}/g,o).replace(/\{dataKey}/g,s),e&&(c=r.getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,p.uploadClass).replace(/\{uploadIcon}/g,p.uploadIcon).replace(/\{uploadTitle}/g,p.uploadTitle)),u.replace(/\{delete}/g,l).replace(/\{upload}/g,c).replace(/\{other}/g,d)},setThumbStatus:function(e,t){var i=this;if(i.showPreview){var n="indicator"+t,a=n+"Title",r="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),s=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),o.html(s[n]),o.attr("title",s[a]),e.addClass(r)}},clearPreview:function(){var e=this,t=e.showUploadedThumbs?e.$preview.find(".file-preview-frame:not(.file-preview-success)"):e.$preview.find(".file-preview-frame");t.remove(),e.$preview.find(".file-preview-frame").length&&e.showPreview||e.resetUpload(),e.validateDefaultPreview()},initPreview:function(e){var t,i=this,n=i.initialCaption||"";return a.count(i.id)?(t=a.out(i.id),n=e&&i.initialCaption?i.initialCaption:t.caption,i.$preview.html(t.content),i.setCaption(n),void(B(t.content)||i.$container.removeClass("file-input-new"))):(i.clearPreview(),void(e?i.setCaption(n):i.initCaption()))},initPreviewDeletes:function(){var t=this,i=t.deleteExtraData||{},r=function(){var e=t.isUploadable?a.count(t.id):t.$element.get(0).files.length;0!==t.$preview.find(".kv-file-remove").length||e||(t.reset(),t.initialCaption="")};t.$preview.find(".kv-file-remove").each(function(){var o=e(this),s=o.data("url")||t.deleteUrl,l=o.data("key");if(!B(s)&&void 0!==l){var u,d,p,f,h=o.closest(".file-preview-frame"),g=a.data[t.id],m=h.data("fileindex");m=parseInt(m.replace("init_","")),p=B(g.config)&&B(g.config[m])?null:g.config[m],f=B(p)||B(p.extra)?i:p.extra,"function"==typeof f&&(f=f()),d={id:o.attr("id"),key:l,extra:f},u=e.extend({url:s,type:"POST",dataType:"json",data:e.extend({key:l},f),beforeSend:function(e){t.ajaxAborted=!1,t.raise("filepredelete",[l,e,f]),t.ajaxAborted?e.abort():(c(h,"file-uploading"),c(o,"disabled"))},success:function(e,i,n){var s,c;return B(e)||B(e.error)?(a.unset(t.id,m),s=a.count(t.id),c=s>0?t.getMsgSelected(s):"",t.raise("filedeleted",[l,n,f]),t.setCaption(c),h.removeClass("file-uploading").addClass("file-deleted"),void h.fadeOut("slow",function(){t.clearObjects(h),h.remove(),r(),s||0!==t.getFileStack().length||(t.setCaption(""),t.reset())})):(d.jqXHR=n,d.response=e,t.showError(e.error,d,"filedeleteerror"),h.removeClass("file-uploading"),o.removeClass("disabled"),void r())},error:function(e,i,n){var a=t.parseError(e,n);d.jqXHR=e,d.response={},t.showError(a,d,"filedeleteerror"),h.removeClass("file-uploading"),r()}},t.ajaxDeleteSettings),n(o,"click",function(){return t.validateMinCount()?void e.ajax(u):!1})}})},clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},clearFileInput:function(){var t,i,n,a=this,r=a.$element;B(r.val())||(a.isIE9||a.isIE10?(t=r.closest("form"),i=e(document.createElement("form")),n=e(document.createElement("div")),r.before(n),t.length?t.after(i):n.after(i),i.append(r).trigger("reset"),n.before(r).remove(),i.remove()):r.val(""),a.fileInputCleared=!0)},resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e.setProgress(0),c(e.$progress,"hide"),e.resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e.resetCanvas()},resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},cancel:function(){var t,i=this,n=i.ajaxRequests,a=n.length;if(a>0)for(t=0;a>t;t+=1)i.cancelling=!0,n[t].abort();i.getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[n]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()})},cleanMemory:function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");Q.revokeObjectURL(t)},hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&a.count(e.id)},clear:function(){var t,i=this;i.$btnUpload.removeAttr("disabled"),i.getThumbs().find("video,audio,img").each(function(){i.cleanMemory(e(this))}),i.resetUpload(),i.clearStack(),i.clearFileInput(),i.resetErrors(!0),i.raise("fileclear"),i.hasInitialPreview()?(i.showFileIcon(),i.resetPreview(),i.initPreviewDeletes(),i.$container.removeClass("file-input-new")):(i.getThumbs().each(function(){i.clearObjects(e(this))}),i.isUploadable&&(a.data[i.id]={}),i.$preview.html(""),t=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.setCaption(t),i.$caption.attr("title",""),c(i.$container,"file-input-new"),i.validateDefaultPreview()),0===i.$container.find(".file-preview-frame").length&&(i.initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i.hideFileIcon(),i.raise("filecleared"),i.$captionContainer.focus(),i.setFileDropZoneTitle()},resetPreview:function(){var e,t,i=this;a.count(i.id)?(e=a.out(i.id),i.$preview.html(e.content),t=i.initialCaption?i.initialCaption:e.caption,i.setCaption(t)):(i.clearPreview(),i.initCaption())},clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},validateDefaultPreview:function(){var e=this;e.showPreview&&!B(e.defaultPreviewContent)&&(e.$preview.html('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"))},resetPreviewThumbs:function(e){var t,i=this;return e?(i.clearPreview(),void i.clearStack()):void(i.hasInitialPreview()?(t=a.out(i.id),i.$preview.html(t.content),i.setCaption(t.caption),i.initPreviewDeletes()):i.clearPreview())},reset:function(){var e=this;e.resetPreview(),e.$container.find(".fileinput-filename").text(""),e.raise("filereset"),c(e.$container,"file-input-new"),(e.$preview.find(".file-preview-frame").length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.setFileDropZoneTitle(),e.clearStack(),e.formdata={}},disable:function(){var e=this;e.isDisabled=!0,e.raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e.initDragDrop()},enable:function(){var e=this;e.isDisabled=!1,e.raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.initDragDrop()},getThumbs:function(e){return e=e||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+e)},getExtraData:function(e,t){var i=this,n=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(n=i.uploadExtraData(e,t)),n},uploadExtra:function(t,i){var n=this,a=n.getExtraData(t,i);0!==a.length&&e.each(a,function(e,t){n.formdata.append(e,t)})},setAsyncUploadStatus:function(t,i,n){var a=this,r=0;a.setProgress(i,e("#"+t).find(".file-thumb-progress")),a.uploadStatus[t]=i,e.each(a.uploadStatus,function(e,t){r+=t}),a.setProgress(Math.ceil(r/n))},initXhr:function(e,t,i){var n=this;return e.upload&&e.upload.addEventListener("progress",function(e){var a=0,r=e.loaded||e.position,o=e.total;e.lengthComputable&&(a=Math.ceil(r/o*100)),t?n.setAsyncUploadStatus(t,a,i):n.setProgress(Math.ceil(a))},!1),e},ajaxSubmit:function(t,i,n,a,r,o){var s,l=this;l.raise("filepreajax",[r,o]),l.uploadExtra(r,o),s=e.extend({xhr:function(){var t=e.ajaxSettings.xhr();return l.initXhr(t,r,l.getFileStack().length)},url:l.uploadUrl,type:"POST",dataType:"json",data:l.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:n,error:a},l.ajaxSettings),l.ajaxRequests.push(e.ajax(s))},initUploadSuccess:function(t,i,n){var r,o,s,l,c,u,d,p,f=this;f.showPreview&&"object"==typeof t&&!e.isEmptyObject(t)&&void 0!==t.initialPreview&&t.initialPreview.length>0&&(f.hasInitData=!0,c=t.initialPreview||[],u=t.initialPreviewConfig||[],d=t.initialPreviewThumbTags||[],r=void 0===t.append||t.append?!0:!1,f.overwriteInitial=!1,void 0!==i?n?(p=i.attr("data-fileindex"),f.uploadCache.content[p]=c[0],f.uploadCache.config[p]=u[0],f.uploadCache.tags[p]=d[0],f.uploadCache.append=r):(s=a.add(f.id,c,u[0],d[0],r),o=a.get(f.id,s,!1),l=e(o).hide(),i.after(l).fadeOut("slow",function(){l.fadeIn("slow").css("display:inline-block"),f.initPreviewDeletes(),f.clearFileInput(),i.remove()})):(a.set(f.id,c,u,d,r),f.initPreview(),f.initPreviewDeletes()))},initSuccessThumbs:function(){var t=this;t.showPreview&&t.getThumbs(".file-preview-success").each(function(){var i=e(this),a=i.find(".kv-file-remove");a.removeAttr("disabled"),n(a,"click",function(){var e=t.raise("filesuccessremove",[i.attr("id"),i.data("fileindex")]);t.cleanMemory(i),e!==!1&&i.fadeOut("slow",function(){i.remove(),t.$preview.find(".file-preview-frame").length||t.reset()})})})},checkAsyncComplete:function(){var t,i,n=this;for(i=0;i<n.filestack.length;i++)if(n.filestack[i]&&(t=n.previewInitId+"-"+i,-1===e.inArray(t,n.uploadLog)))return!1;return n.uploadAsyncCount===n.uploadLog.length},uploadSingle:function(t,i,n){var r,o,s,l,u,d,p,f,h,g,m=this,v=m.getFileStack().length,y=new FormData,b=m.previewInitId+"-"+t,w=m.filestack.length>0||!e.isEmptyObject(m.uploadExtraData),x={id:b,index:t};m.formdata=y,m.showPreview&&(o=e("#"+b+":not(.file-preview-initial)"),l=o.find(".kv-file-upload"),u=o.find(".kv-file-remove"),e("#"+b).find(".file-thumb-progress").removeClass("hide")),0===v||!w||l&&l.hasClass("disabled")||m.abort(x)||(g=function(e,t){m.updateStack(e,void 0),m.uploadLog.push(t),m.checkAsyncComplete()&&(m.fileBatchCompleted=!0)},s=function(){m.fileBatchCompleted&&setTimeout(function(){m.showPreview&&(a.set(m.id,m.uploadCache.content,m.uploadCache.config,m.uploadCache.tags,m.uploadCache.append),m.hasInitData&&(m.initPreview(),m.initPreviewDeletes())),m.unlock(),m.clearFileInput(),m.raise("filebatchuploadcomplete",[m.filestack,m.getExtraData()]),m.uploadCount=0,m.uploadStatus={},m.uploadLog=[],m.setProgress(100)},100)},d=function(i){r=m.getOutData(i),m.fileBatchCompleted=!1,m.showPreview&&(o.hasClass("file-preview-success")||(m.setThumbStatus(o,"Loading"),c(o,"file-uploading")),l.attr("disabled",!0),u.attr("disabled",!0)),n||m.lock(),m.raise("filepreupload",[r,b,t]),x=e.extend(x,r),m.abort(x)&&(i.abort(),m.setProgress(100))},p=function(i,a,s){r=m.getOutData(s,i),x=e.extend(x,r),setTimeout(function(){B(i)||B(i.error)?(m.showPreview&&(m.setThumbStatus(o,"Success"),l.hide(),m.initUploadSuccess(i,o,n)),m.raise("fileuploaded",[r,b,t]),n?g(t,b):(m.resetFileStack(),m.updateStack(t,void 0))):(m.setThumbStatus(o,"Error"),m.showUploadError(i.error,x),n&&g(t,b))},100)},f=function(){setTimeout(function(){m.showPreview&&(l.removeAttr("disabled"),u.removeAttr("disabled"),o.removeClass("file-uploading")),n?s():m.unlock(!1),m.initSuccessThumbs()},100)},h=function(a,r,s){var l=m.parseError(a,s,n?i[t].name:null);setTimeout(function(){n&&g(t,b),m.uploadStatus[b]=100,m.setThumbStatus(o,"Error"),x=e.extend(x,m.getOutData(a)),m.showUploadError(l,x)},100)},y.append(m.uploadFileAttr,i[t],m.filenames[t]),y.append("file_id",t),m.ajaxSubmit(d,p,f,h,b,t))},uploadBatch:function(){var t,i,n,a,r,o=this,s=o.filestack,l=s.length,u={},d=o.filestack.length>0||!e.isEmptyObject(o.uploadExtraData);o.formdata=new FormData,0!==l&&d&&!o.abort(u)&&(t=function(){e.each(s,function(e){o.updateStack(e,void 0)}),o.clearFileInput()},i=function(t){o.lock();var i=o.getOutData(t);o.showPreview&&o.getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),n=t.find(".kv-file-remove");t.hasClass("file-preview-success")||(o.setThumbStatus(t,"Loading"),c(t,"file-uploading")),i.attr("disabled",!0),n.attr("disabled",!0)}),o.raise("filebatchpreupload",[i]),o.abort(i)&&(t.abort(),o.setProgress(100))},n=function(i,n,a){var r=o.getOutData(a,i),s=o.getThumbs(),l=0,c=B(i)||B(i.errorkeys)?[]:i.errorkeys;B(i)||B(i.error)?(o.raise("filebatchuploadsuccess",[r]),t(),o.showPreview?(s.each(function(){var t=e(this),i=t.find(".kv-file-upload");t.find(".kv-file-upload").hide(),o.setThumbStatus(t,"Success"),t.removeClass("file-uploading"),i.removeAttr("disabled")}),o.initUploadSuccess(i)):o.reset()):(o.showPreview&&(s.each(function(){var t=e(this),i=t.find(".kv-file-remove"),n=t.find(".kv-file-upload");
return t.removeClass("file-uploading"),n.removeAttr("disabled"),i.removeAttr("disabled"),0===c.length?void o.setThumbStatus(t,"Error"):(-1!==e.inArray(l,c)?o.setThumbStatus(t,"Error"):(t.find(".kv-file-upload").hide(),o.setThumbStatus(t,"Success"),o.updateStack(l,void 0)),void l++)}),o.initUploadSuccess(i)),o.showUploadError(i.error,r,"filebatchuploaderror"))},a=function(){o.setProgress(100),o.unlock(),o.initSuccessThumbs(),o.clearFileInput(),o.raise("filebatchuploadcomplete",[o.filestack,o.getExtraData()])},r=function(t,i,n){var a=o.getOutData(t),r=o.parseError(t,n);o.showUploadError(r,a,"filebatchuploaderror"),o.uploadFileCount=l-1,o.showPreview&&(o.getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==o.filestack[i]&&o.setThumbStatus(t,"Error")}),o.getThumbs().removeClass("file-uploading"),o.getThumbs(" .kv-file-upload").removeAttr("disabled"),o.getThumbs(" .kv-file-delete").removeAttr("disabled"))},e.each(s,function(e,t){B(s[e])||o.formdata.append(o.uploadFileAttr,t,o.filenames[e])}),o.ajaxSubmit(i,n,a,r))},uploadExtraOnly:function(){var e,t,i,n,a=this,r={};a.formdata=new FormData,a.abort(r)||(e=function(e){a.lock();var t=a.getOutData(e);a.raise("filebatchpreupload",[t]),a.setProgress(50),r.data=t,r.xhr=e,a.abort(r)&&(e.abort(),a.setProgress(100))},t=function(e,t,i){var n=a.getOutData(i,e);B(e)||B(e.error)?(a.raise("filebatchuploadsuccess",[n]),a.clearFileInput(),a.initUploadSuccess(e)):a.showUploadError(e.error,n,"filebatchuploaderror")},i=function(){a.setProgress(100),a.unlock(),a.clearFileInput(),a.raise("filebatchuploadcomplete",[a.filestack,a.getExtraData()])},n=function(e,t,i){var n=a.getOutData(e),o=a.parseError(e,i);r.data=n,a.showUploadError(o,n,"filebatchuploaderror")},a.ajaxSubmit(e,t,i,n))},upload:function(){var t,i,n,a=this,r=a.getFileStack().length,o={},s=!e.isEmptyObject(a.getExtraData());if(a.minFileCount>0&&a.getFileCount(r)<a.minFileCount)return void a.noFilesError(o);if(a.isUploadable&&!a.isDisabled&&(0!==r||s)){if(a.resetUpload(),a.$progress.removeClass("hide"),a.uploadCount=0,a.uploadStatus={},a.uploadLog=[],a.lock(),a.setProgress(2),0===r&&s)return void a.uploadExtraOnly();if(n=a.filestack.length,a.hasInitData=!1,a.uploadAsync){for(i=a.getOutData(),a.raise("filebatchpreupload",[i]),a.fileBatchCompleted=!1,a.uploadCache={content:[],config:[],tags:[],append:!0},a.uploadAsyncCount=a.getFileStack().length,t=0;n>t;t++)a.uploadCache.content[t]=null,a.uploadCache.config[t]=null,a.uploadCache.tags[t]=null;for(t=0;n>t;t++)void 0!==a.filestack[t]&&a.uploadSingle(t,a.filestack,!0)}else a.uploadBatch()}},initFileActions:function(){var t=this;t.showPreview&&(t.$preview.find(".kv-file-remove").each(function(){var i,r,o,s,l=e(this),c=l.closest(".file-preview-frame"),u=c.attr("id"),d=c.attr("data-fileindex");n(l,"click",function(){return s=t.raise("filepreremove",[u,d]),s!==!1&&t.validateMinCount()?(i=c.hasClass("file-preview-error"),t.cleanMemory(c),void c.fadeOut("slow",function(){t.updateStack(d,void 0),t.clearObjects(c),c.remove(),u&&i&&t.$errorContainer.find('li[data-file-id="'+u+'"]').fadeOut("fast",function(){e(this).remove(),t.errorsExist()||t.resetErrors()});var n=t.getFileStack(!0),s=n.length,l=a.count(t.id),p=t.showPreview&&t.$preview.find(".file-preview-frame").length;t.clearFileInput(),0!==s||0!==l||p?(r=l+s,o=r>1?t.getMsgSelected(r):n[0]?t.getFileNames()[0]:"",t.setCaption(o)):t.reset(),t.raise("fileremoved",[u,d])})):!1})}),t.$preview.find(".kv-file-upload").each(function(){var i=e(this);n(i,"click",function(){var e=i.closest(".file-preview-frame"),n=e.attr("data-fileindex");e.hasClass("file-preview-error")||t.uploadSingle(n,t.filestack,!1)})}))},hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),i.find(".kv-error-close").off("click").on("click",function(){i.fadeOut("slow")}))},resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),i.html(""),e?i.fadeOut("slow"):i.hide()},showFolderError:function(e){var t=this,i=t.$errorContainer;e&&(t.addError(t.msgFoldersNotAllowed.replace(/\{n}/g,e)),i.fadeIn(800),c(t.$container,"has-error"),t.raise("filefoldererror",[e]))},showUploadError:function(e,t,i){var n=this,a=n.$errorContainer,r=i||"fileuploaderror",o=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===a.find("ul").length?n.addError("<ul>"+o+"</ul>"):a.find("ul").append(o),a.fadeIn(800),n.raise(r,[t]),n.$container.removeClass("file-input-new"),c(n.$container,"has-error"),!0},showError:function(e,t,i){var n=this,a=n.$errorContainer,r=i||"fileerror";return t=t||{},t.reader=n.reader,n.addError(e),a.fadeIn(800),n.raise(r,[t]),n.isUploadable||n.clearFileInput(),n.$container.removeClass("file-input-new"),c(n.$container,"has-error"),n.$btnUpload.attr("disabled",!0),!0},errorHandler:function(e,t){var i=this,n=e.target.error;n.code===n.NOT_FOUND_ERR?i.showError(i.msgFileNotFound.replace("{name}",t)):n.code===n.SECURITY_ERR?i.showError(i.msgFileSecured.replace("{name}",t)):n.code===n.NOT_READABLE_ERR?i.showError(i.msgFileNotReadable.replace("{name}",t)):n.code===n.ABORT_ERR?i.showError(i.msgFilePreviewAborted.replace("{name}",t)):i.showError(i.msgFilePreviewError.replace("{name}",t))},parseFileType:function(e){var t,i,n,a,r=this;for(a=0;a<q.length;a+=1)if(n=q[a],t=K(n,r.fileTypeSettings)?r.fileTypeSettings[n]:H[n],i=t(e.type,e.name)?n:"",!B(i))return i;return"other"},previewDefault:function(t,i,n){if(this.showPreview){var a=this,r="",o=t?t.name:"",s=Q.createObjectURL(t),l=i.slice(i.lastIndexOf("-")+1),c=a.previewSettings.other||N.other,u=a.renderFileFooter(t.name,c.width),d=a.parseFilePreviewIcon(a.getPreviewTemplate("other"),o);n===!0&&(a.isUploadable||(u+='<div class="file-other-error" title="'+a.fileActionSettings.indicatorErrorTitle+'">'+a.fileActionSettings.indicatorError+"</div>")),a.clearDefaultPreview(),a.$preview.append("\n"+d.replace(/\{previewId}/g,i).replace(/\{frameClass}/g,r).replace(/\{fileindex}/g,l).replace(/\{caption}/g,a.slug(t.name)).replace(/\{width}/g,c.width).replace(/\{height}/g,c.height).replace(/\{type}/g,t.type).replace(/\{data}/g,s).replace(/\{footer}/g,u)),n===!0&&a.isUploadable&&a.setThumbStatus(e("#"+i),"Error")}},previewFile:function(e,t,i,n,a){if(this.showPreview){var r,o,s,l=this,c=l.parseFileType(t),u=t?t.name:"",d=l.slug(u),p=l.allowedPreviewTypes,f=l.allowedPreviewMimeTypes,h=l.getPreviewTemplate(c),g=p&&p.indexOf(c)>=0,m=K(c,l.previewSettings)?l.previewSettings[c]:N[c],v=f&&-1!==f.indexOf(t.type),y=l.renderFileFooter(d,m.width),b="",w=n.slice(n.lastIndexOf("-")+1);g||v?(h=l.parseFilePreviewIcon(h,u.split(".").pop()),"text"===c?(o=Z(i.target.result),s="text-"+Y(),r=h.replace(/\{zoom}/g,l.getLayoutTemplate("zoom")),b=l.getLayoutTemplate("modal").replace("{id}",s).replace(/\{title}/g,d).replace(/\{body}/g,o).replace(/\{heading}/g,l.msgZoomModalHeading),r=r.replace(/\{previewId}/g,n).replace(/\{caption}/g,d).replace(/\{width}/g,m.width).replace(/\{height}/g,m.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,l.zoomIndicator).replace(/\{footer}/g,y).replace(/\{fileindex}/g,w).replace(/\{type}/g,t.type).replace(/\{zoomTitle}/g,l.msgZoomTitle).replace(/\{dialog}/g,"$('#"+s+"').modal('show')").replace(/\{data}/g,o)+b):r=h.replace(/\{previewId}/g,n).replace(/\{caption}/g,d).replace(/\{frameClass}/g,"").replace(/\{type}/g,t.type).replace(/\{fileindex}/g,w).replace(/\{width}/g,m.width).replace(/\{height}/g,m.height).replace(/\{footer}/g,y).replace(/\{data}/g,a),l.clearDefaultPreview(),l.$preview.append("\n"+r),l.validateImage(e,n,d,t.type)):l.previewDefault(t,n)}},slugDefault:function(e){return B(e)?"":e.split(/(\\|\/)/g).pop().replace(/[^\w\u00C0-\u017F\-.\\\/ ]+/g,"")},readFiles:function(t){this.reader=new FileReader;var i,n=this,a=n.$element,r=n.$preview,o=n.reader,s=n.$previewContainer,l=n.$previewStatus,c=n.msgLoading,u=n.msgProgress,d=n.previewInitId,p=t.length,f=n.fileTypeSettings,h=n.filestack.length,g=function(a,r,o,s){var l=e.extend(n.getOutData({},{},t),{id:o,index:s}),c={id:o,index:s,file:r,files:t};return n.previewDefault(r,o,!0),n.isUploadable&&n.pushStack(void 0),setTimeout(i(s+1),100),n.initFileActions(),n.isUploadable?n.showUploadError(a,l):n.showError(a,c)};n.loadedImages=[],n.totalImagesCount=0,e.each(t,function(e,t){var i="image",a=K(i,n.fileTypeSettings)?n.fileTypeSettings[i]:H[i];a&&a(t.type)&&n.totalImagesCount++}),i=function(e){if(B(a.attr("multiple"))&&(p=1),e>=p)return n.isUploadable&&n.filestack.length>0?n.raise("filebatchselected",[n.getFileStack()]):n.raise("filebatchselected",[t]),s.removeClass("loading"),void l.html("");var m,v,y,b,w,x,k=h+e,C=d+"-"+k,$=t[e],S=n.slug($.name),_=($.size||0)/1e3,P="",A=Q.createObjectURL($),E=0,T=n.allowedFileTypes,I=B(T)?"":T.join(", "),D=n.allowedFileExtensions,F=B(D)?"":D.join(", ");if(B(D)||(P=new RegExp("\\.("+D.join("|")+")$","i")),_=_.toFixed(2),n.maxFileSize>0&&_>n.maxFileSize)return b=n.msgSizeTooLarge.replace("{name}",S).replace("{size}",_).replace("{maxSize}",n.maxFileSize),void(n.isError=g(b,$,C,e));if(!B(T)&&G(T)){for(y=0;y<T.length;y+=1)w=T[y],v=f[w],x=void 0!==v&&v($.type,S),E+=B(x)?0:x.length;if(0===E)return b=n.msgInvalidFileType.replace("{name}",S).replace("{types}",I),void(n.isError=g(b,$,C,e))}return 0!==E||B(D)||!G(D)||B(P)||(x=S.match(P),E+=B(x)?0:x.length,0!==E)?n.showPreview?(r.length>0&&void 0!==FileReader?(l.html(c.replace("{index}",e+1).replace("{files}",p)),s.addClass("loading"),o.onerror=function(e){n.errorHandler(e,S)},o.onload=function(t){n.previewFile(e,$,t,C,A),n.initFileActions()},o.onloadend=function(){b=u.replace("{index}",e+1).replace("{files}",p).replace("{percent}",50).replace("{name}",S),setTimeout(function(){l.html(b),n.updateFileDetails(p),i(e+1)},100),n.raise("fileloaded",[$,C,e,o])},o.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,n=Math.ceil(i);b=u.replace("{index}",e+1).replace("{files}",p).replace("{percent}",n).replace("{name}",S),setTimeout(function(){l.html(b)},100)}},m=K("text",f)?f.text:H.text,m($.type,S)?o.readAsText($,n.textEncoding):o.readAsArrayBuffer($)):(n.previewDefault($,C),setTimeout(function(){i(e+1),n.updateFileDetails(p)},100),n.raise("fileloaded",[$,C,e,o])),void n.pushStack($)):(n.pushStack($),setTimeout(i(e+1),100),void n.raise("fileloaded",[$,C,e,o])):(b=n.msgInvalidFileExtension.replace("{name}",S).replace("{extensions}",F),void(n.isError=g(b,$,C,e)))},i(0),n.updateFileDetails(p,!1)},updateFileDetails:function(e){var t=this,i=t.$element,n=t.getFileStack(),r=i.val()||n.length&&n[0].name||"",o=t.slug(r),s=t.isUploadable?n.length:e,l=a.count(t.id)+s,c=s>1?t.getMsgSelected(l):o;t.isError?(t.$previewContainer.removeClass("loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t.showFileIcon(),t.setCaption(c,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t.raise("fileselect",[e,o]),a.count(t.id)&&t.initPreviewDeletes()},validateMinCount:function(){var e=this,t=e.isUploadable?e.getFileStack().length:e.$element.get(0).files.length;return e.validateInitialCount&&e.minFileCount>0&&e.getFileCount(t-1)<e.minFileCount?(e.noFilesError({}),!1):!0},getFileCount:function(e){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=a.count(t.id),e+=i),e},change:function(t){var i=this,n=i.$element;if(!i.isUploadable&&B(n.val())&&i.fileInputCleared)return void(i.fileInputCleared=!1);i.fileInputCleared=!1;var r,o,s,l,c,u,d=arguments.length>1,p=d?t.originalEvent.dataTransfer.files:n.get(0).files,f=B(n.attr("multiple")),h=0,g=0,m=i.filestack.length,v=i.isUploadable,y=f&&m>0,b=function(t,n,a,r){var o=e.extend(i.getOutData({},{},p),{id:a,index:r}),s={id:a,index:r,file:n,files:p};return i.isUploadable?i.showUploadError(t,o):i.showError(t,s)};if(i.reader=null,i.resetUpload(),i.hideFileIcon(),i.isUploadable&&i.$container.find(".file-drop-zone ."+i.dropZoneTitleClass).remove(),d)for(r=[];p[h];)l=p[h],l.type||l.size%4096!==0?r.push(l):g++,h++;else r=void 0===t.target.files?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(B(r)||0===r.length)return v||i.clear(),i.showFolderError(g),void i.raise("fileselectnone");if(i.resetErrors(),u=r.length,s=i.isUploadable?i.getFileStack().length+u:u,s=i.getFileCount(s),i.maxFileCount>0&&s>i.maxFileCount){if(!i.autoReplace||u>i.maxFileCount)return c=i.autoReplace&&u>i.maxFileCount?u:s,o=i.msgFilesTooMany.replace("{m}",i.maxFileCount).replace("{n}",c),i.isError=b(o,null,null,null),i.$captionContainer.find(".kv-caption-icon").hide(),i.setCaption("",!0),void i.$container.removeClass("file-input-new file-input-ajax-new");s>i.maxFileCount&&i.resetPreviewThumbs(v)}else!v||y?(i.resetPreviewThumbs(!1),y&&i.clearStack()):!v||0!==m||a.count(i.id)&&!i.overwriteInitial||i.resetPreviewThumbs(!0);i.isPreviewable?i.readFiles(r):i.updateFileDetails(1),i.showFolderError(g)},getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},clearStack:function(){var e=this;e.filestack=[],e.filenames=[]},updateStack:function(e,t){var i=this;i.filestack[e]=t,i.filenames[e]=i.getFileName(t)},pushStack:function(e){var t=this;t.filestack.push(e),t.filenames.push(t.getFileName(e))},checkDimensions:function(e,t,i,n,a,r,o){var s,l,c,u,d=this,p="Small"===t?"min":"max",f=d[p+"Image"+r];!B(f)&&i.length&&(c=i[0],l="Width"===r?c.naturalWidth||c.width:c.naturalHeight||c.height,u="Small"===t?l>=f:f>=l,u||(s=d["msgImage"+r+t].replace("{name}",a).replace("{size}",f),d.showUploadError(s,o),d.setThumbStatus(n,"Error"),d.updateStack(e,null)))},validateImage:function(e,t,i,a){var r,o,s,l=this,c=l.$preview,u=c.find("#"+t),d=u.find("img");i=i||"Untitled",d.length&&n(d,"load",function(){o=u.width(),s=c.width(),o>s&&(d.css("width","100%"),u.css("width","97%")),r={ind:e,id:t},l.checkDimensions(e,"Small",d,u,i,"Width",r),l.checkDimensions(e,"Small",d,u,i,"Height",r),l.resizeImage||(l.checkDimensions(e,"Large",d,u,i,"Width",r),l.checkDimensions(e,"Large",d,u,i,"Height",r)),l.raise("fileimageloaded",[t]),l.loadedImages.push({ind:e,img:d,thumb:u,pid:t,typ:a}),l.validateAllImages(),Q.revokeObjectURL(d.attr("src"))})},validateAllImages:function(){var e,t,i,n,a,r,o,s=this,l={};if(s.loadedImages.length===s.totalImagesCount&&(s.raise("fileimagesloaded"),s.resizeImage)){for(o=s.isUploadable?s.showUploadError:s.showError,e=0;e<s.loadedImages.length;e++)t=s.loadedImages[e],i=t.img,n=t.thumb,a=t.pid,r=t.ind,l={id:a,index:r},s.getResizedImage(i[0],t.typ,a,r)||(o(s.msgImageResizeError,l,"fileimageresizeerror"),s.setThumbStatus(n,"Error"),s.updateStack(r,void 0));s.raise("fileimagesresized")}},getResizedImage:function(e,t,i,n){var a,r,o=this,s=e.naturalWidth,l=e.naturalHeight,c=1,u=o.maxImageWidth||s,d=o.maxImageHeight||l,p=s&&l,f=o.imageCanvas,h=o.imageCanvasContext;if(!p)return!1;if(s===u&&l===d)return!0;t=t||o.resizeDefaultImageType,a=s>u,r=l>d,c="width"===o.resizePreference?a?u/s:r?d/l:1:r?d/l:a?u/s:1,o.resetCanvas(),s*=c,l*=c,f.width=s,f.height=l;try{return h.drawImage(e,0,0,s,l),f.toBlob(function(e){o.raise("fileimageresized",[i,n]),o.filestack[n]=e},t,o.resizeQuality),!0}catch(g){return!1}},initCaption:function(){var e=this,t=e.initialCaption||"";return e.overwriteInitial||B(t)?(e.$caption.html(""),!1):(e.setCaption(t),!0)},setCaption:function(t,i){var n,a,r=this;if(i)n=e("<div>"+r.msgValidationError+"</div>").text(),a='<span class="'+r.msgValidationErrorClass+'">'+r.msgValidationErrorIcon+n+"</span>";else{if(B(t)||0===r.$caption.length)return;n=e("<div>"+t+"</div>").text(),a=r.getLayoutTemplate("icon")+n}r.$caption.html(a),r.$caption.attr("title",n),r.$captionContainer.find(".file-caption-ellipsis").attr("title",n)},initBrowse:function(e){var t=this;t.$btnFile=e.find(".btn-file"),t.$btnFile.append(t.$element)},createContainer:function(){var t=this,i=e(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t.renderMain());return t.$element.before(i),t.initBrowse(i),i},refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element),t.html(e.renderMain()),e.initBrowse(t)},renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e.getLayoutTemplate("close"):"",n=e.showPreview?e.getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",a=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,r=e.captionTemplate.replace(/\{class}/g,a+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass).replace(/\{preview}/g,n).replace(/\{close}/g,i).replace(/\{caption}/g,r).replace(/\{upload}/g,e.renderButton("upload")).replace(/\{remove}/g,e.renderButton("remove")).replace(/\{cancel}/g,e.renderButton("cancel")).replace(/\{browse}/g,e.renderButton("browse"))},renderButton:function(e){var t=this,i=t.getLayoutTemplate("btnDefault"),n=t[e+"Class"],a=t[e+"Title"],r=t[e+"Icon"],o=t[e+"Label"],s=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";n+=" hide";break;case"upload":if(!t.showUpload)return"";t.isUploadable&&!t.isDisabled?i=t.getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":i=t.getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",i.replace("{type}",l).replace("{css}",n).replace("{title}",a).replace("{status}",s).replace("{icon}",r).replace("{label}",o)}},e.fn.fileinput=function(i){if(o()||t(9)){var n=Array.apply(null,arguments),a=[];switch(n.shift(),this.each(function(){var t,r=e(this),o=r.data("fileinput"),s="object"==typeof i&&i,l=s.language||r.data("language")||"en";o||(t=e.extend({},e.fn.fileinput.defaults),"en"===l||B(e.fn.fileinputLocales[l])||(t=e.extend(t,e.fn.fileinputLocales[l])),o=new X(this,e.extend(t,s,r.data())),r.data("fileinput",o)),"string"==typeof i&&a.push(o[i].apply(o,n))}),a.length){case 0:return this;case 1:return a[0];default:return a}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:U,previewTemplates:z,allowedPreviewTypes:q,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:N,fileTypeSettings:H,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},browseIcon:'<i class="glyphicon glyphicon-folder-open"></i> &nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i> ',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i> ',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i> ',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"File Upload Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;"},e.extend(e.fn.fileinput.defaults,e.fn.fileinputLocales.en),e.fn.fileinput.Constructor=X,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})}(window.jQuery),$(document).ready(function(){$(".kv-toggle").click(function(e){return e.preventDefault(),$(this).children(".opened").toggle(),$(this).children(".closed").toggle(),$(this).parent().children("ul").toggle(),$(this).parent().toggleClass("active"),!1})}),$("#menu-search-form").on("submit",function(e){e.preventDefault();var t=[],i=$("#menu-search-autocomplete").val();""==i&&(i=" "),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){var a=new google.maps.Geocoder,r={lat:parseFloat(n.coords.latitude),lng:parseFloat(n.coords.longitude)};t.push("search-filter[latitude]="+r.lat),t.push("search-filter[longitude]="+r.lng),a.geocode({location:r},function(n,a){if(a===google.maps.GeocoderStatus.OK&&n.length>0){var r=n[0],o=r.formatted_address;t.push("search-filter[location]="+o),window.location=e.currentTarget.action+"/"+i+"?"+t.join("&")}})}):window.location=e.currentTarget.action+"/"+i+"?"+t.join("&"),window.location=e.currentTarget.action+"/"+i+"?"+t.join("&")}),jQuery(function(e){e.fn.authchoice=function(t){return t=e.extend({popup:{resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380}},t),this.each(function(){var i=e(this);i.find("a").on("click",function(n){n.preventDefault();var a=i.data("authChoicePopup");a&&a.close();var r=this.href,o=e.extend({},t.popup),s=this.getAttribute("data-popup-width");s&&(o.width=s);var l=this.getAttribute("data-popup-height");s&&(o.height=l),o.left=(window.screen.width-o.width)/2,o.top=(window.screen.height-o.height)/2;var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push(u+"="+o[u]);var d=c.join(",");a=window.open(r,"yii_auth_choice",d),a.focus(),i.data("authChoicePopup",a)})})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?i=t:t={};var e,i,n;!function(t){function a(e,t){return w.call(e,t)}function r(e,t){var i,n,a,r,o,s,l,c,u,d,p,f=t&&t.split("/"),h=y.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=e.split("/"),o=e.length-1,y.nodeIdCompat&&k.test(e[o])&&(e[o]=e[o].replace(k,"")),e=f.concat(e),u=0;u<e.length;u+=1)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||g)&&h){for(i=e.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if(a=h[f.slice(0,d).join("/")],a&&(a=a[n])){r=a,s=u;break}if(r)break;!l&&g&&g[n]&&(l=g[n],c=u)}!r&&l&&(r=l,s=c),r&&(i.splice(0,s,r),e=i.join("/"))}return e}function o(e,i){return function(){return f.apply(t,x.call(arguments,0).concat([e,i]))}}function s(e){return function(t){return r(t,e)}}function l(e){return function(t){m[e]=t}}function c(e){if(a(v,e)){var i=v[e];delete v[e],b[e]=!0,p.apply(t,i)}if(!a(m,e)&&!a(b,e))throw new Error("No "+e);return m[e]}function u(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,k=/\.js$/;h=function(e,t){var i,n=u(e),a=n[0];return e=n[1],a&&(a=r(a,t),i=c(a)),a?e=i&&i.normalize?i.normalize(e,s(t)):r(e,t):(e=r(e,t),n=u(e),a=n[0],e=n[1],a&&(i=c(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:i}},g={require:function(e){return o(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:d(e)}}},p=function(e,i,n,r){var s,u,d,p,f,y,w=[],x=typeof n;if(r=r||e,"undefined"===x||"function"===x){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(p=h(i[f],r),u=p.f,"require"===u)w[f]=g.require(e);else if("exports"===u)w[f]=g.exports(e),y=!0;else if("module"===u)s=w[f]=g.module(e);else if(a(m,u)||a(v,u)||a(b,u))w[f]=c(u);else{if(!p.p)throw new Error(e+" missing "+u);p.p.load(p.n,o(r,!0),l(u),{}),w[f]=m[u]}d=n?n.apply(m[e],w):void 0,e&&(s&&s.exports!==t&&s.exports!==m[e]?m[e]=s.exports:d===t&&y||(m[e]=d))}else e&&(m[e]=n)},e=i=f=function(e,i,n,a,r){if("string"==typeof e)return g[e]?g[e](i):c(h(e,i).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=a,a=r),a?p(t,e,i,n):setTimeout(function(){p(t,e,i,n)},4),f},f.config=function(e){return f(e)},e._defined=m,n=function(e,t,i){t.splice||(i=t,t=[]),a(m,e)||a(v,e)||(v[e]=[e,t,i])},n.amd={jQuery:!0}}(),t.requirejs=e,t.require=i,t.define=n}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,i=[];for(var n in t){var a=t[n];"function"==typeof a&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(e,t){function i(){this.constructor=e}var n={}.hasOwnProperty;for(var a in t)n.call(t,a)&&(e[a]=t[a]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},i.Decorate=function(e,i){function n(){var t=Array.prototype.unshift,n=i.prototype.constructor.length,a=e.prototype.constructor;n>0&&(t.call(arguments,e.prototype.constructor),a=i.prototype.constructor),a.apply(this,arguments)}function a(){this.constructor=n}var r=t(i),o=t(e);i.displayName=e.displayName,n.prototype=new a;for(var s=0;s<o.length;s++){var l=o[s];n.prototype[l]=e.prototype[l]}for(var c=(function(e){var t=function(){};e in n.prototype&&(t=n.prototype[e]);var a=i.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),a.apply(this,arguments)}}),u=0;u<r.length;u++){var d=r[u];n.prototype[d]=c(d)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;n>i;i++)e[i].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",i=0;e>i;i++){var n=Math.floor(36*Math.random());t+=n.toString(36)}return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var a=0;a<i.length;a++){var r=i[a];r=r.substring(0,1).toLowerCase()+r.substring(1),r in n||(n[r]={}),a==i.length-1&&(n[r]=e[t]),n=n[r]}delete e[t]}}return e},i.hasScroll=function(t,i){var n=e(i),a=i.style.overflowX,r=i.style.overflowY;return a!==r||"hidden"!==r&&"visible"!==r?"scroll"===a||"scroll"===r?!0:n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth:!1},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},i}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" class="select2-results__option"></li>'),a=this.options.get("translations").get(t.message);n.append(i(a(t.args))),this.$results.append(n)},i.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],a=this.option(n);t.push(a)}this.$results.append(t)},i.prototype.position=function(e,t){var i=t.find(".select2-results");i.append(e)},i.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()}),a=t.$results.find(".select2-results__option[aria-selected]");a.each(function(){var t=e(this),i=e.data(this,"data"),a=""+i.id;null!=i.element&&i.element.selected||null==i.element&&e.inArray(a,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false");
});var r=a.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):a.first().trigger("mouseenter")})},i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:t(e)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(i.id=t._resultId),t.title&&(i.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]);for(var a in n){var r=n[a];i.setAttribute(a,r)}if(t.children){var o=e(i),s=document.createElement("strong");s.className="select2-results__group";e(s);this.template(t,s);for(var l=[],c=0;c<t.children.length;c++){var u=t.children[c],d=this.option(u);l.push(d)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(l),o.append(s),o.append(p)}else this.template(t,i);return e.data(i,"data",t),i},i.prototype.bind=function(t,i){var n=this,a=t.id+"-results";this.$results.attr("id",a),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.showLoading(e)}),t.on("select",function(){t.isOpen()&&n.setClasses()}),t.on("unselect",function(){t.isOpen()&&n.setClasses()}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close"):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var a=i-1;0===e.length&&(a=0);var r=t.eq(a);r.trigger("mouseenter");var o=n.$results.offset().top,s=r.offset().top,l=n.$results.scrollTop()+(s-o);0===a?n.$results.scrollTop(0):0>s-o&&n.$results.scrollTop(l)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e),a=i+1;if(!(a>=t.length)){var r=t.eq(a);r.trigger("mouseenter");var o=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),l=n.$results.scrollTop()+s-o;0===a?n.$results.scrollTop(0):s>o&&n.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-n.$results.scrollTop()+e.deltaY,a=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&i<=n.$results.height();a?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this),a=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:a}):n.trigger("close")):void n.trigger("select",{originalEvent:t,data:a})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:e(this)})})},i.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),i=t.index(e),n=this.$results.offset().top,a=e.offset().top,r=this.$results.scrollTop()+(a-n),o=a-n;r-=2*e.outerHeight(!1),2>=i?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),a=this.options.get("escapeMarkup"),r=n(t);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=a(r):e(i).append(r)},i}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},n.prototype.bind=function(e,t){var n=this,a=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n.trigger("blur",e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",a),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var i=e(t.target),n=i.closest(".select2"),a=e(".select2.select2-container--open");a.each(function(){var t=e(this);if(this!=n[0]){var i=t.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){var i=t.find(".selection");i.append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function a(){a.__super__.constructor.apply(this,arguments)}return i.Extend(a,t),a.prototype.render=function(){var e=a.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},a.prototype.bind=function(e,t){var i=this;a.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){i.update(e.data)})},a.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},a.prototype.display=function(e){var t=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(t(e))},a.prototype.selectionContainer=function(){return e("<span></span>")},a.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],i=this.display(t),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",t.title||t.text)},a}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,i){var a=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){a.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var i=e(this),n=i.parent(),r=n.data("data");a.trigger("unselect",{originalEvent:t,data:r})})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(e){var t=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(t(e))},n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=this.display(a),o=this.selectionContainer();o.append(r),o.prop("title",a.title||a.text),o.data("data",a),t.push(o)}var s=this.$selection.find(".select2-selection__rendered");i.appendMany(s,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id,n=t.length>1;if(n||i)return e.call(this,t);this.clear();var a=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(a)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();for(var n=i.data("data"),a=0;a<n.length;a++){var r={data:n[a]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},i.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=e('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return n},n.prototype.bind=function(e,t,n){var a=this;e.call(this,t,n),t.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus()}),t.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val(""),a.$search.focus()}),t.on("enable",function(){a.$search.prop("disabled",!1)}),t.on("disable",function(){a.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(e){a.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){a.trigger("blur",e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===i.BACKSPACE&&""===a.$search.val()){var n=a.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var r=n.data("data");a.searchRemoveChoice(r),e.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(e){a.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(e){a.handleSearch(e)})},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.trigger("open"),this.$search.val(t.text+" ")},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var a=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,r)){i=i||{};var n=e.Event("select2:"+t,{params:i});a.$element.trigger(n),-1!==e.inArray(t,o)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){var e={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),a=n.item(e);t.push(a)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var a=[];e=[e],e.push.apply(e,n);for(var r=0;r<e.length;r++){var o=e[r].id;-1===i.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,i(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var a=[],r=0;r<n.length;r++){var o=n[r].id;o!==e.id&&-1===i.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")})},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(e,t){var n=[],a=this,r=this.$element.children();r.each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var r=a.item(t),o=a.matches(e,r);null!==o&&n.push(o)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=i(t),a=this._normalizeItem(e);return a.element=t,i.data(t,"data",a),n},n.prototype.item=function(e){var t={};if(t=i.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),a=[],r=0;r<n.length;r++){var o=i(n[r]),s=this.item(o);a.push(s)}t.children=a}return t=this._normalizeItem(t),t.element=e[0],i.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){i.isPlainObject(e)||(e={id:e,text:e}),e=i.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},t,e)},n.prototype.matches=function(e,t){var i=this.options.get("matcher");return i(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){function n(e){return function(){return i(this).val()==e.id}}for(var a=this,r=this.$element.find("option"),o=r.map(function(){return a.item(i(this)).id}).get(),s=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(i.inArray(c.id,o)>=0){var u=r.filter(n(c)),d=this.item(u),p=(i.extend(!0,{},d,c),this.option(d));u.replaceWith(p)}else{var f=this.option(c);if(c.children){var h=this.convertToOptions(c.children);t.appendMany(f,h)}s.push(f)}}return s},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(t,i){this.ajaxOptions=this._applyDefaults(i.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),e.__super__.constructor.call(this,t,i)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return{q:e.term}},transport:function(e,t,n){var a=i.ajax(e);return a.then(t),a.fail(n),a}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){function n(){var n=r.transport(r,function(n){var r=a.processResults(n,e);a.options.get("debug")&&window.console&&console.error&&(r&&r.results&&i.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(r)},function(){});a._request=n}var a=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url(e)),"function"==typeof r.data&&(r.data=r.data(e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var a=n.get("tags"),r=n.get("createTag");if(void 0!==r&&(this.createTag=r),t.call(this,i,n),e.isArray(a))for(var o=0;o<a.length;o++){var s=a[o],l=this._normalizeItem(s),c=this.option(l);this.$element.append(c)}}return t.prototype.query=function(e,t,i){function n(e,r){for(var o=e.results,s=0;s<o.length;s++){var l=o[s],c=null!=l.children&&!n({results:l.children},!0),u=l.text===t.term;if(u||c)return r?!1:(e.data=o,void i(e))}if(r)return!0;var d=a.createTag(t);if(null!=d){var p=a.option(d);p.attr("data-select2-tag",!0),a.addOptions([p]),a.insertTag(o,d)}e.results=o,i(e)}var a=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,i):void e.call(this,t,n)},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){var i=(this._lastTag,this.$element.find("option[data-select2-tag]"));i.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(e,t,i){function n(e){a.select(e)}var a=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,n);r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term),e.call(this,t,i)},t.prototype.tokenizer=function(t,i,n,a){for(var r=n.get("tokenSeparators")||[],o=i.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var c=o[s];if(-1!==e.inArray(c,r)){var u=o.substr(0,s),d=e.extend({},i,{term:u}),p=l(d);a(p),o=o.substr(s+1)||"",s=0}else s++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){var n=this;this.current(function(a){var r=null!=a?a.length:0;return n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void e.call(n,t,i)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var a=this;t.call(this,i,n),this.$search.on("keydown",function(e){a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){
e(this).off("keyup")}),this.$search.on("keyup input",function(e){a.handleSearch(e)}),i.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus(),window.setTimeout(function(){a.$search.focus()},0)}),i.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val("")}),i.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=a.showSearch(e);t?a.$searchContainer.removeClass("select2-search--hide"):a.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var a=t[n];this.placeholder.id===a.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,n){var a=this;t.call(this,i,n),i.on("query",function(e){a.lastParams=e,a.loading=!0}),i.on("query:append",function(e){a.lastParams=e,a.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,a.$loadingMore[0]);if(!a.loading&&t){var i=a.$results.offset().top+a.$results.outerHeight(!1),n=a.$loadingMore.offset().top+a.$loadingMore.outerHeight(!1);i+50>=n&&a.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="option load-more" role="treeitem"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(e,t,i){this.$dropdownParent=i.get("dropdownParent")||document.body,e.call(this,t,i)}return i.prototype.bind=function(e,t,i){var n=this,a=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),a||(a=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var n=this,a="scroll.select2."+i.id,r="resize.select2."+i.id,o="orientationchange.select2."+i.id,s=this.$container.parents().filter(t.hasScroll);s.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),s.on(a,function(t){var i=e(this).data("select2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(a+" "+r+" "+o,function(e){n._positionDropdown(),n._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var n="scroll.select2."+i.id,a="resize.select2."+i.id,r="orientationchange.select2."+i.id,o=this.$container.parents().filter(t.hasScroll);o.off(n),e(window).off(n+" "+a+" "+r)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),a=null,r=(this.$container.position(),this.$container.offset());r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<r.top-s.height,u=l.bottom>r.bottom+s.height,d={left:r.left,top:o.bottom};i||n||(a="below"),u||!c||i?!c&&u&&i&&(a="below"):a="above",("above"==a||i&&"below"!==a)&&(d.top=o.top-s.height),null!=a&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+a),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+a)),this.$dropdownContainer.css(d)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var i=0,n=0;n<t.length;n++){var a=t[n];a.children?i+=e(a.children):i++}return i}function t(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return t.prototype.showSearch=function(t,i){return e(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(){n._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();e.length<1||this.trigger("select",{data:e.data("data")})},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close")},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){var t=e.minimum-e.input.length,i="Please enter "+t+" or more characters";return i},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,a,r,o,s,l,c,u,d,p,f,h,g,m,v,y,b,w,x,k,C,$,S,_,P,A){function E(){this.reset()}E.prototype.apply=function(d){if(d=e.extend({},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=h:null!=d.data?d.dataAdapter=f:d.dataAdapter=p,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var A=t(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,A)}if(null!=d.initSelection){var E=t(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,E)}}if(null==d.resultsAdapter&&(d.resultsAdapter=i,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var T=c.Decorate(w,x);d.dropdownAdapter=T}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,P)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var I=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,I)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,$)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=a:d.selectionAdapter=n,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var D=t(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,D)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var F=d.language.split("-"),j=F[0];d.language=[d.language,j]}else d.language=[d.language];if(e.isArray(d.language)){var O=new u;d.language.push("en");for(var R=d.language,L=0;L<R.length;L++){var M=R[L],U={};try{U=u.loadPath(M)}catch(z){try{M=this.defaults.amdLanguageBase+M,U=u.loadPath(M)}catch(q){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}O.extend(U)}d.translations=O}else{var N=u.loadPath(this.defaults.amdLanguageBase+"en"),H=new u(d.language);H.extend(N),d.translations=H}return d},E.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(n,a){if(""===e.trim(n.term))return a;if(a.children&&a.children.length>0){for(var r=e.extend(!0,{},a),o=a.children.length-1;o>=0;o--){var s=a.children[o],l=i(n,s);null==l&&r.children.splice(o,1)}return r.children.length>0?r:i(n,r)}var c=t(a.text).toUpperCase(),u=t(n.term).toUpperCase();return c.indexOf(u)>-1?a:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},E.prototype.set=function(t,i){var n=e.camelCase(t),a={};a[n]=i;var r=c._convertData(a);e.extend(this.defaults,r)};var T=new E;return T}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function a(t,a){if(this.options=t,null!=a&&this.fromElement(a),this.options=i.apply(this.options),a&&a.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return a.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var a={};a=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var r=t.extend(!0,{},a);r=n._convertData(r);for(var o in r)t.inArray(o,i)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],r[o]):this.options[o]=r[o]);return this},a.prototype.get=function(e){return this.options[e]},a.prototype.set=function(e,t){this.options[e]=t},a}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var a=function(e,i){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),a.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return i.Extend(a,i.Observable),a.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t="select2-"+t},a.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},a.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var a=e.outerWidth(!1);return 0>=a?"auto":a+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var o=r.split(";"),s=0,l=o.length;l>s;s+=1){var c=o[s].replace(/\s/g,""),u=c.match(i);if(null!==u&&u.length>=1)return u[1]}return null}return t},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},a.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},a.prototype._registerSelectionEvents=function(){var t=this,i=["toggle"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("*",function(n,a){-1===e.inArray(n,i)&&t.trigger(n,a)})},a.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},a.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},a.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("focus",function(){e.$container.addClass("select2-container--focus")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open"),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ENTER?(e.trigger("results:select"),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle"),t.preventDefault()):i===n.UP?(e.trigger("results:previous"),t.preventDefault()):i===n.DOWN?(e.trigger("results:next"),t.preventDefault()):(i===n.ESC||i===n.TAB)&&(e.close(),t.preventDefault()):(i===n.ENTER||i===n.SPACE||(i===n.DOWN||i===n.UP)&&t.altKey)&&(e.open(),t.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},a.prototype.trigger=function(e,t){var i=a.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e in n){var r=n[e],o={prevented:!1,name:e,args:t};if(i.call(this,r,o),o.prevented)return void(t.prevented=!0)}i.call(this,e,t)},a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},a.prototype.close=function(){this.isOpen()&&this.trigger("close")},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},a.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},a.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},a}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,i,n){var a,r,o=[];a=e.trim(t.attr("class")),a&&(a=""+a,e(a.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),a=e.trim(i.attr("class")),a&&(a=""+a,e(a.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(r=n(this),null!=r&&o.push(r))})),t.attr("class",o.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var a=n.call(this),r=this.options.get("containerCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||i,-1!==r.indexOf(":all:")){r=r.replace(":all","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,o),a.css(l),a.addClass(r),a},n}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var a=n.call(this),r=this.options.get("dropdownCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||i,-1!==r.indexOf(":all:")){r=r.replace(":all","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,o),a.css(l),a.addClass(r),a},n}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,e.call(this,t,i)}return t.prototype.current=function(t,i){var n=this;return this._isInitialized?void t.call(this,i):void this.initSelection.call(null,this.$element,function(t){n._isInitialized=!0,e.isArray(t)||(t=[t]),i(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,i)}return t.prototype.current=function(t,i){function n(t,i){var a=[];return t.selected||-1!==e.inArray(t.id,i)?(t.selected=!0,a.push(t)):t.selected=!1,t.children&&a.push.apply(a,n(t.children,i)),a}for(var a=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r];a.push.apply(a,n(o,this.$element.val().split(this._valueSeparator)))}i(a)},t.prototype.select=function(t,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var i=this;t.selected=!1,this.current(function(e){for(var n=[],a=0;a<e.length;a++){var r=e[a];t.id!=r.id&&n.push(r.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},t.prototype.query=function(e,t,i){for(var n=[],a=0;a<this._currentData.length;a++){var r=this._currentData[a],o=this.matches(t,r);null!==o&&n.push(o)}i({results:n})},t.prototype.addOptions=function(t,i){var n=e.map(i,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,n)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function i(i,n){var a=e.extend(!0,{},n);if(null==i.term||""===e.trim(i.term))return a;if(n.children){for(var r=n.children.length-1;r>=0;r--){var o=n.children[r],s=t(i.term,o.text,o);s||a.children.splice(r,1)}if(a.children.length>0)return a}return t(i.term,n.text,n)?a:null}return i}return t}),t.define("select2/compat/query",[],function(){function e(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.callback=i;var n=this.options.get("query");n.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,i){e.call(this,t,i)}return e.prototype.position=function(e,t,i){var n=i.find(".dropdown-wrapper");n.append(t),t.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(e){e.stopPropagation()})},e}),t.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(e,t,i,n){if(t("jquery.mousewheel"),null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var n=e.extend({},t,!0);new i(e(this),n)}),this;if("string"==typeof t){var n=this.data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var r=Array.prototype.slice.call(arguments,1),o=n[t](r);return e.inArray(t,a)>-1?this:o}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),function(i){"function"==typeof t.define&&t.define.amd?t.define("jquery.mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(e)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),c=0,d=0,p=0,f=0,h=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*p,p=0),c=0===p?d:p,"deltaY"in o&&(p=-1*o.deltaY,c=p),"deltaX"in o&&(d=o.deltaX,0===p&&(c=-1*d)),0!==p||0!==d){if(1===o.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,p*=m,d*=m}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,p*=v,d*=v}if(f=Math.max(Math.abs(p),Math.abs(d)),(!r||r>f)&&(r=f,n(o,f)&&(r/=40)),n(o,f)&&(c/=40,d/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/r),d=Math[d>=1?"floor":"ceil"](d/r),p=Math[p>=1?"floor":"ceil"](p/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();h=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=d,t.deltaY=p,t.deltaFactor=r,t.offsetX=h,t.offsetY=g,t.deltaMode=0,s.unshift(t,c,d,p),a&&clearTimeout(a),a=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){r=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i}),function(e){initSelect2Loading=function(t,i){var n=e("#"+t),a=e(i),r=e(".kv-plugin-loading.loading-"+t),o=e(".group-"+t);a.length||n.show(),o.length&&o.removeClass("kv-input-group-hide").removeClass(".group-"+t),r.remove()},initSelect2DropStyle=function(t,i,n){var a,r,o=e("#"+t),s=e(".select2-container--open"),l=o.parents("[class*='has-']");if(l.length)for(a=l[0].className.split(/\s+/),r=0;r<a.length;r++)a[r].match("has-")&&s.removeClass("has-success has-error has-warning").addClass(a[r]);window[i]&&(n.preventDefault(),window[i]=!1)}}(jQuery),function(e){"use strict";var t=function(t,i){var n=this;n.$element=e(t),n.disabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.initialValue=n.$element.val(),n.init(i)};t.prototype={constructor:t,init:function(t){var i=this,n=i.$element,a=n.is(":checkbox"),r=n.is("select"),o=!a&&!r,s=parseInt(n.val()),l=r&&!t.enclosedLabel,c=t.inline?"cbx-container":"cbx-container cbx-block";return t.theme&&(c+=" cbx-"+t.theme),i.options=t,i.clearEvents(),a&&s!==t.valueUnchecked&&s!==t.valueChecked&&n.attr("checked",!1).prop("indeterminate",t.threeState),a&&t.useNative?(n.on("change.checkbox",function(){i.change()}).removeClass("cbx-loading"),void(t.threeState&&(n.attr("checked")||n.val()===t.valueChecked||n.val()===t.valueUnchecked?n.prop("indeterminate",!1):n.prop("indeterminate",!0)))):(void 0===i.$container?(i.$container=e(document.createElement("div")).addClass(c).html(i.render()),i.$container.insertBefore(n).append(n),n.hide()):i.$container.before(n).addClass(c).html(i.render()).append(n),
n.removeClass("cbx-loading"),i.$cbx=i.$container.find(".cbx"),n.closest("form").on("reset.checkbox",function(){i.reset()}),i.$cbx.off("click.checkbox").on("click.checkbox",function(){return!a||t.enclosedLabel||t.useNative||i.disabled?void((o&&!t.enclosedLabel||l)&&i.change()):void n.trigger("change")}).on("keyup.checkbox",function(e){32===e.which&&(i.change(),e.preventDefault())}),void(a&&!t.useNative?n.on("change.checkbox",function(){i.change()}):(o||r)&&n.on("click.checkbox",function(){i.change()})))},change:function(){var e,t=this,i=t.$element;t.disabled||(e=t.getValue(),i.val(e),t.validateCheckbox(e),t.options.useNative||t.$cbx.html(t.getIndicator()))},getValue:function(){var e=this,t=parseInt(e.$element.val()),i=e.options;switch(t){case i.valueUnchecked:return e.options.threeState?i.valueNull:i.valueChecked;case i.valueChecked:return i.valueUnchecked;default:return i.valueChecked}},setCheckboxProp:function(e){var t=this,i=t.$element,n=t.options;switch(n.threeState&&i.prop("indeterminate",!1),i.prop("checked",!1),e){case n.valueChecked:i.prop("checked",!0);break;case n.valueUnchecked:break;default:n.threeState&&i.prop("indeterminate",!0)}},validateCheckbox:function(e){var t=this,i=t.$element,n=i.is(":checkbox");return n?void t.setCheckboxProp(e):void i.trigger("change")},clearEvents:function(){var e=this,t=e.$element,i=e.$container?e.$container.find(".cbx"):null;t.off(".checkbox"),i&&i.off(".checkbox")},destroy:function(){var e=this,t=e.$element;e.clearEvents(),e.$container.before(t).remove(),t.removeData().show()},reset:function(){var e=this,t=e.$element;t.val(e.initialValue),e.refresh(),t.trigger("resetinput.checkbox")},refresh:function(t){var i=this;t?i.init(e.extend(i.options,t)):(i.disabled=i.$element.attr("disabled")||i.$element.attr("readonly"),i.init(i.options)),i.initialValue=i.$element.val()},getIndicator:function(){var e=this,t=e.options,i=t.iconUnchecked,n=parseInt(e.$element.val());return n===t.valueChecked?i=t.iconChecked:n!==t.valueUnchecked&&e.options.threeState&&(i=t.iconNull),'<span class="cbx-icon">'+i+"</span>"},render:function(){var e=this,t=e.getIndicator(),i=e.options.size,n=e.disabled||!e.options.tabindex?"":' tabindex="'+e.options.tabindex+'"',a="cbx cbx-"+i+(e.disabled?" cbx-disabled":" cbx-active");return'<div class="'+a+'"'+n+">"+t+"</div>"}},e.fn.checkboxX=function(i){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var a,r=e(this),o=r.data("checkboxX"),s="object"==typeof i&&i;o||(a=e.extend({},e.fn.checkboxX.defaults),o=new t(this,e.extend(a,s,r.data())),r.data("checkboxX",o)),"string"==typeof i&&o[i].apply(o,n)})},e.fn.checkboxX.defaults={theme:"",threeState:!0,inline:!0,iconChecked:'<i class="glyphicon glyphicon-ok"></i>',iconUnchecked:" ",iconNull:'<div class="cbx-icon-null"></div>',valueChecked:1,valueUnchecked:0,valueNull:null,size:"md",enclosedLabel:!1,useNative:!1,tabindex:"1000"},e.fn.checkboxX.Constructor=t,e('input[data-toggle="checkbox-x"]').addClass("cbx-loading"),e(document).ready(function(){e('input[data-toggle="checkbox-x"]').checkboxX()})}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(t,n,a){var n={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}};a=e.extend(!0,{},n,a),this.settings=e.extend(!0,{},i,a),this._defaults=i,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}var i={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(t.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,i){var n={};"string"==typeof t?n[t]=i:n=t;for(var t in n)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=n[t],this.$ele.addClass("alert-"+n[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[t]);break;case"icon":var a=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?a.removeClass(e.settings.content.icon).addClass(n[t]):(a.is("img")||a.find("img"),a.attr("src",n[t]));break;case"progress":var r=e.settings.delay-e.settings.delay*(n[t]/100);this.$ele.data("notify-delay",r),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[t]).css("width",n[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(n[t])}var o=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(o)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1}),this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},placement:function(){var t=this,i=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},a=!1,r=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(e(this).css(r.placement.from))+parseInt(e(this).outerHeight())+parseInt(r.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),n[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),e.each(Array("webkit","moz","o","ms",""),function(e,i){t.$ele[0].style[i+"AnimationIterationCount"]=1}),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(e){a=!0}).one(this.animations.end,function(i){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),setTimeout(function(){a||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)},600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){t.close()}),this.$ele.mouseover(function(t){e(this).data("data-hover","true")}).mouseout(function(t){e(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var i=setInterval(function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var n=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}e<=-t.settings.timer&&(clearInterval(i),t.close())},t.settings.timer)}},close:function(){var t=this,i=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(i),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(e){n=!0}).one(this.animations.end,function(i){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(t){var i=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',a=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(a=this.$ele.prevAll(n)),a.each(function(){e(this).css(i.settings.placement.from,t),t=parseInt(t)+parseInt(i.settings.spacing)+e(this).outerHeight()})}}),e.notify=function(e,i){var n=new t(this,e,i);return n.notify},e.notifyDefaults=function(t){return i=e.extend(!0,{},i,t)},e.notifyClose=function(t){"undefined"==typeof t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}});