!function(t){t.fn.yiiGridView=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.yiiGridView"),!1):r.init.apply(this,arguments)};var e={filterUrl:void 0,filterSelector:void 0},n={},i={beforeFilter:"beforeFilter",afterFilter:"afterFilter"},r={init:function(i){return this.each(function(){var o=t(this),s=t.extend({},e,i||{});n[o.attr("id")]={settings:s};var a=!1;t(document).off("change.yiiGridView keydown.yiiGridView",s.filterSelector).on("change.yiiGridView keydown.yiiGridView",s.filterSelector,function(t){if("keydown"===t.type){if(13!==t.keyCode)return;a=!0}else if(a)return void(a=!1);return r.applyFilter.apply(o),!1})})},applyFilter:function(){var e,r=t(this),o=n[r.attr("id")].settings,s={};t.each(t(o.filterSelector).serializeArray(),function(){s[this.name]=this.value}),t.each(yii.getQueryParams(o.filterUrl),function(t,e){void 0===s[t]&&(s[t]=e)});var a=o.filterUrl.indexOf("?"),c=0>a?o.filterUrl:o.filterUrl.substring(0,a);r.find("form.gridview-filter-form").remove();var l=t('<form action="'+c+'" method="get" class="gridview-filter-form" style="display:none" data-pjax></form>').appendTo(r);t.each(s,function(e,n){l.append(t('<input type="hidden" name="t" value="" />').attr("name",e).val(n))}),e=t.Event(i.beforeFilter),r.trigger(e),e.result!==!1&&(l.submit(),r.trigger(i.afterFilter))},setSelectionColumn:function(e){var i=t(this),r=t(this).attr("id");if(n[r].selectionColumn=e.name,e.multiple){var o="#"+r+" input[name='"+e.checkAll+"']",s="#"+r+" input[name='"+e.name+"']";t(document).off("click.yiiGridView",o).on("click.yiiGridView",o,function(){i.find("input[name='"+e.name+"']:enabled").prop("checked",this.checked)}),t(document).off("click.yiiGridView",s+":enabled").on("click.yiiGridView",s+":enabled",function(){var t=i.find("input[name='"+e.name+"']").length==i.find("input[name='"+e.name+"']:checked").length;i.find("input[name='"+e.checkAll+"']").prop("checked",t)})}},getSelectedRows:function(){var e=t(this),i=n[e.attr("id")],r=[];return i.selectionColumn&&e.find("input[name='"+i.selectionColumn+"']:checked").each(function(){r.push(t(this).parent().closest("tr").data("key"))}),r},destroy:function(){return this.each(function(){t(window).unbind(".yiiGridView"),t(this).removeData("yiiGridView")})},data:function(){var e=t(this).attr("id");return n[e]}}}(window.jQuery),$("#menu-search-form").on("submit",function(t){t.preventDefault();var e=[],n=$("#menu-search-autocomplete").val();""==n&&(n=" "),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){var r=new google.maps.Geocoder,o={lat:parseFloat(i.coords.latitude),lng:parseFloat(i.coords.longitude)};e.push("search-filter[latitude]="+o.lat),e.push("search-filter[longitude]="+o.lng),r.geocode({location:o},function(i,r){if(r===google.maps.GeocoderStatus.OK&&i.length>0){var o=i[0],s=o.formatted_address;e.push("search-filter[location]="+s),window.location=t.currentTarget.action+"/"+n+"?"+e.join("&")}})}):window.location=t.currentTarget.action+"/"+n+"?"+e.join("&"),window.location=t.currentTarget.action+"/"+n+"?"+e.join("&")}),jQuery(function(t){t.fn.authchoice=function(e){return e=t.extend({popup:{resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380}},e),this.each(function(){var n=t(this);n.find("a").on("click",function(i){i.preventDefault();var r=n.data("authChoicePopup");r&&r.close();var o=this.href,s=t.extend({},e.popup),a=this.getAttribute("data-popup-width");a&&(s.width=a);var c=this.getAttribute("data-popup-height");a&&(s.height=c),s.left=(window.screen.width-s.width)/2,s.top=(window.screen.height-s.height)/2;var l=[];for(var u in s)s.hasOwnProperty(u)&&l.push(u+"="+s[u]);var h=l.join(",");r=window.open(o,"yii_auth_choice",h),r.focus(),n.data("authChoicePopup",r)})})}}),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,c=arguments;return o=function(){i=null,n||(r=t.apply(a,c))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,c)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var c=new Date,l=e-(c-s);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,s=c,o=t.apply(n,i)):r||(r=setTimeout(a,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,n,i=[],r=a.length;for(e=0;r>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(c){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):a}var i=0,o={},s=6,a=new r(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),u._cache.set(c,t)}function r(){e(!0)}function a(){i--,delete o[c],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var c,l,u=this;c=this._fingerprint(t),this.cancelled||c!==this.lastReq||((l=o[c])?l.done(n).fail(r):s>i?(i++,o[c]=this._send(t).done(n).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[c]=[],t[a]={},t}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;o>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var a="c",c="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;n.datums[o=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e[a][s]||(e[a][s]=r()),e[c].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,l=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=l.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(o=e[c].slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return l.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),c=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){function e(t,e){return e.url=o(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var r,o,s;return r=t.prepare,o=t.replace,s=t.wildcard,r?r:r=o?e:t.wildcard?n:i}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,o,s;return r=t.limiter,o=t.rateLimitBy,s=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?i(s):n(s)),r}function a(n){return function(i){function r(t){e.defer(function(){s.resolve(t)})}function o(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,r,o),s}}return function(n){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(o,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),h=function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new l(t.remote):null,this.prefetch=t.prefetch?new c(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(o,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var o,s=this;return o=this.sorter(this.index.search(t)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,c=arguments;return o=function(){i=null,n||(r=t.apply(a,c))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,c)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var c=new Date,l=e-(c-s);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,s=c,o=t.apply(n,i)):r||(r=setTimeout(a,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),s={css:r(),classes:a,html:n(a),selectors:i(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(c),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(c);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(c),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&l(s);return this}function o(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var c=/\s+/,l=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:s(n,e)}var a;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),s=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=o(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||l(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function s(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var c,l;return c={val:"tt-selectable-display",obj:"tt-selectable-object"},l=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(c.obj)?{val:n.data(c.val)||"",obj:n.data(c.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(c.obj,e).data(c.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!o&&a<r.limit&&(r.cancel=t.noop,a+=n.length,r._append(e,n.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!s&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),c=function(){"use strict";function n(n,i){function r(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new a(e,i)}var o=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open);
},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),l=function(){"use strict";function t(){c.apply(this,[].slice.call(arguments,0))}var n=c.prototype;return e.mixin(t.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,r){var o,s,a,c,l,u,h,d,f,p,g;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),c=i(this,"isActive","isOpen","_onTabKeyed"),l=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",c,this).onSync("escKeyed",l,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,c;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),c=a.exec(n.val),c&&this.input.setHint(i+c[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,o=this._minLengthMet()&&this.menu.update(e),o||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function f(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){function d(){var n,d,m,v,y,b,w,x,_,k,C;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),d=t(p.html.wrapper),m=f(r.hint),v=f(r.menu),y=r.hint!==!1&&!m,b=r.menu!==!1&&!v,y&&(m=o(n,p)),b&&(v=t(p.html.menu).css(p.css.menu)),m&&m.val(""),n=a(n,p),(y||b)&&(d.css(p.css.wrapper),n.css(y?p.css.input:p.css.inputWithNoHint),n.wrap(d).parent().prepend(y?m:null).append(b?v:null)),C=b?l:c,w=new i({el:n}),x=new s({hint:m,input:n},p),_=new C({node:v,datasets:h},p),k=new u({input:x,menu:_,eventBus:w,minLength:r.minLength},p),n.data(g.www,p),n.data(g.typeahead,k)}var p;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},p=n(r.classNames),this.each(d)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()}),yii.gii=function(t){var e=t("#clipboard-container"),n="",i=function(i){var r;return r=t(i.target),r.is("input:visible, textarea:visible")||"function"==typeof window.getSelection&&window.getSelection().toString()||null!=document.selection&&document.selection.createRange().text?void 0:(e.empty().show(),t("<textarea id='clipboard'></textarea>").val(n).appendTo(e).focus().select())},r=function(e){return t(e.target).is("#clipboard")&&t("#clipboard-container").empty().hide(),!0},o=function(){t(".hint-block").each(function(){var e=t(this);e.parent().find("label").addClass("help").popover({html:!0,trigger:"hover",placement:"right",content:e.html()})})},s=function(){t(".sticky:not(.error)").find('input[type="text"],select,textarea').each(function(){var e;e="SELECT"===this.tagName?this.options[this.selectedIndex].text:"TEXTAREA"===this.tagName?t(this).html():t(this).val(),""===e&&(e="[empty]"),t(this).before('<div class="sticky-value">'+e+"</div>").hide()}),t(".sticky-value").on("click",function(){t(this).hide(),t(this).next().show().get(0).focus()})},a=function(e){var i=t("#preview-modal"),r=t(this),o=i.find(".modal-body");if(!r.hasClass("modal-refresh")){var s="a."+i.data("action"),a=t(s),c=a.filter('[href="'+r.attr("href")+'"]').index(s),l=a.eq(c-1),u=a.eq(c+1==a.length?0:c+1);i.data("current",a.eq(c)),i.find(".modal-previous").attr("href",l.attr("href")).data("title",l.data("title")),i.find(".modal-next").attr("href",u.attr("href")).data("title",u.data("title"))}o.html(e),n=t("<div/>").html(e.replace(/(<(br[^>]*)>)/gi,"\n")).text().trim()+"\n",i.find(".content").css("max-height",t(window).height()-200+"px")},c=function(){t(".preview-code, .diff-code, .modal-refresh, .modal-previous, .modal-next").on("click",function(){var e=t("#preview-modal"),n=t(this);e.find(".modal-refresh").attr("href",n.attr("href")),(n.hasClass("preview-code")||n.hasClass("diff-code"))&&e.data("action",n.hasClass("preview-code")?"preview-code":"diff-code"),e.find(".modal-title").text(n.data("title")),e.find(".modal-body").html("Loading ..."),e.modal("show");var i=t("a."+e.data("action")+'[href="'+n.attr("href")+'"]').closest("tr").find("input").get(0),r=!1;return i?(r=i.checked,e.find(".modal-checkbox").removeClass("disabled")):e.find(".modal-checkbox").addClass("disabled"),e.find(".modal-checkbox span").toggleClass("glyphicon-check",r).toggleClass("glyphicon-unchecked",!r),t.ajax({type:"POST",cache:!1,url:n.prop("href"),data:t(".default-view form").serializeArray(),success:function(t){a(t)},error:function(t,n,i){e.find(".modal-body").html('<div class="error">'+t.responseText+"</div>")}}),!1}),t("#preview-modal").on("keydown",function(e){37===e.keyCode?t(".modal-previous").trigger("click"):39===e.keyCode?t(".modal-next").trigger("click"):82===e.keyCode?t(".modal-refresh").trigger("click"):32===e.keyCode&&t(".modal-checkbox").trigger("click")}),t(".modal-checkbox").on("click",l)},l=function(){var e=t("#preview-modal"),n=e.data("current").closest("tr").find("input"),i=!n.prop("checked");return n.prop("checked",i),e.find(".modal-checkbox span").toggleClass("glyphicon-check",i).toggleClass("glyphicon-unchecked",!i),!1},u=function(){t("#check-all").prop("checked",!t(".default-view-files table .check input:enabled:not(:checked)").length)},h=function(){var e=t("#check-all");e.click(function(){t(".default-view-files table .check input:enabled").prop("checked",this.checked)}),t(".default-view-files table .check input").click(function(){u()}),u()},d=function(){t("#action-toggle :input").change(function(){t(this).parent("label").toggleClass("active",this.checked),t("."+this.value,".default-view-files table").toggle(this.checked).find(".check input").attr("disabled",!this.checked),u()})};return t(document).on("keydown",function(t){return n&&(t.ctrlKey||t.metaKey)&&67===t.which?i(t):void 0}).on("keyup",r),{autocomplete:function(t,e){var n=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.word)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:e});n.initialize(),jQuery(".typeahead-"+t).typeahead(null,{displayKey:"word",source:n.ttAdapter()})},init:function(){o(),s(),c(),h(),d(),t("#model-generator #generator-tablename").change(function(){var e=-1===t(this).val().indexOf("*");t(".field-generator-modelclass").toggle(e),t("#generator-generatequery").is(":checked")&&t(".field-generator-queryclass").toggle(e)}).change(),t("#model-generator #generator-tablename").on("blur",function(){var e=t(this).val();if(""===t("#generator-modelclass").val()&&e&&-1===e.indexOf("*")){var n="";t.each(e.split("_"),function(){this.length>0&&(n+=this.substring(0,1).toUpperCase()+this.substring(1))}),t("#generator-modelclass").val(n).blur()}}),t("#model-generator #generator-modelclass").on("blur",function(){var e=t(this).val();if(""!==e){var n=t("#generator-queryclass").val();""===n&&(n=e+"Query",t("#generator-queryclass").val(n))}}),t("#model-generator #generator-ns").on("blur",function(){var e=t("#model-generator .field-generator-queryns .sticky-value"),n=t("#model-generator #generator-queryns");if(e.is(":visible")||!n.is(":visible")){var i=t(this).val();e.html(i),n.val(i)}}),t("form #generator-generatequery").change(function(){t("form .field-generator-queryns").toggle(t(this).is(":checked")),t("form .field-generator-queryclass").toggle(t(this).is(":checked")),t("form .field-generator-querybaseclass").toggle(t(this).is(":checked"))}).change(),t("form #generator-enablei18n").change(function(){t("form .field-generator-messagecategory").toggle(t(this).is(":checked"))}).change(),t(".default-view .form-group input,select,textarea").change(function(){t(".default-view-results,.default-view-files").hide(),t('.default-view button[name="generate"]').hide()}),t(".module-form #generator-moduleclass").change(function(){var e=t(this).val().match(/(\w+)\\\w+$/),n=t("#generator-moduleid");e&&e[1]&&""===n.val()&&n.val(e[1])})}}}(jQuery),function(t){var e=function(e,n){this.$element=t(e),this.init()};e.prototype={constructor:e,init:function(){var t=this,e=t.$element.closest("form");t.$target=t.$element.find(".kv-nested-attribute-block"),e.on("reset.yiiActiveForm",function(){setTimeout(function(){t.$target.removeClass("has-success has-error")},100)}),e.on("afterValidateAttribute",function(e,n,i){t.validate(n,i)})},validate:function(e,n){var i=this;0!=i.$target.length&&i.$target.each(function(){var i=!1,r=!1,o=t(this);o.find("input").each(function(){var o=t(this).attr("id");o==e.id&&(n.length>0?(i=!0,r=!1):i!==!1||e.cancelled||2!==e.status&&3!==e.status||(r=!0))}),i?o.removeClass("has-success has-error").addClass("has-error"):r&&o.removeClass("has-success has-error").addClass("has-success")})}},t.fn.kvFormBuilder=function(n){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var r=t(this),o=r.data("kvFormBuilder"),s="object"==typeof n&&n;o||r.data("kvFormBuilder",o=new e(this,t.extend({},t.fn.kvFormBuilder.defaults,s,t(this).data()))),"string"==typeof n&&o[n].apply(o,i)})}}(jQuery),function(t){"use strict";var e=function(t,e,n){return t.split(e).join(n)},n=function(e,n){return null===e||void 0===e||0===e.length||n&&""===t.trim(e)},i=function(t,e,n,i){var r=screen.width/2-n/2,o=60,s=window.open("",e,"",!0);return s.close(),window.open(t,e,"toolbar=no, location=no, directories=no, status=yes, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+i+", top="+o+", left="+r)},r=function(t){return t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},o={html:'<!DOCTYPE html><meta http-equiv="Content-Type" content="text/html;charset={encoding}"/><meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1"/>{css}<style>.kv-wrap{padding:20px;}.kv-align-center{text-align:center;}.kv-align-left{text-align:left;}.kv-align-right{text-align:right;}.kv-align-top{vertical-align:top!important;}.kv-align-bottom{vertical-align:bottom!important;}.kv-align-middle{vertical-align:middle!important;}.kv-page-summary{border-top:4px double #ddd;font-weight: bold;}.kv-table-footer{border-top:4px double #ddd;font-weight: bold;}.kv-table-caption{font-size:1.5em;padding:8px;border:1px solid #ddd;border-bottom:none;}</style><body class="kv-wrap">{data}</body>',pdf:"{before}\n{data}\n{after}",excel:'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv="Content-Type" content="text/html;charset={encoding}"/>{css}<!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body>{data}</body></html>',popup:'<html style="display:table;width:100%;height:100%;"><title>Grid Export - &copy; Krajee</title><body style="display:table-cell;font-family:Helvetica,Arial,sans-serif;color:#888;font-weight:bold;line-height:1.4em;text-align:center;vertical-align:middle;width:100%;height:100%;padding:0 10px;">{msg}</body></html>'},s=function(e,n){this.$element=t(e);var i=n.gridOpts,r=n.genOpts;this.$grid=t("#"+i.gridId),this.messages=i.messages,this.target=i.target,this.exportConversions=i.exportConversions,this.showConfirmAlert=i.showConfirmAlert,this.filename=r.filename,this.showHeader=r.showHeader,this.showFooter=r.showFooter,this.showPageSummary=r.showPageSummary,this.$table=this.$grid.find(".kv-grid-table:first"),this.$form=this.$grid.find("form.kv-export-form"),this.encoding=this.$form.find('[name="export_encoding"]').val(),this.columns=this.showHeader?"td,th":"td",this.alertMsg=n.alertMsg,this.config=n.config,this.popup="",this.listen()};s.prototype={constructor:s,getArray:function(e){var i=this,o=i.clean(e),s=[],a={};return void 0!==i.config.colHeads&&i.config.colHeads.length>0?s=i.config.colHeads:o.find("thead tr th").each(function(e,o){var a=t(this).text().trim(),c=r(a);s[e]=!i.config.slugColHeads||n(c)?"col_"+e:c}),o.find('tbody tr:has("td")').each(function(e,n){a[e]={},t(this).children("td").each(function(n,i){var r=s[n];a[e][r]=t(this).text().trim()})}),a},notify:function(t){var e=this;if(!e.showConfirmAlert)return t.preventDefault(),!0;var i=e.messages,r=n(e.alertMsg)?"":e.alertMsg,o=n(i.allowPopups)?"":i.allowPopups,s=n(i.confirmDownload)?"":i.confirmDownload,a="";return a=r.length&&o.length?r+"\n\n"+o:!r.length&&o.length?o:r.length&&!o.length?r:"",s.length&&(a=a+"\n\n"+s),t.preventDefault(),n(a)?!0:e.kvConfirm(a)},kvConfirm:function(t){try{return window.confirm(t)}catch(e){return!0}},setPopupAlert:function(t){var e=this;if(void 0!==e.popup.document)if(arguments.length&&arguments[1]){var n=e.popup.document.getElementsByTagName("body");setTimeout(function(){n[0].innerHTML=t},4e3)}else{var i=o.popup.replace("{msg}",t);e.popup.document.write(i)}},listenClick:function(t){var e=this,i=arguments.length>1?arguments[1]:"";e.$element.on("click",function(r){e.notify(r)&&(n(i)?e[t]():e[t](i),r.preventDefault())})},listen:function(){var t=this;"_popup"===t.target&&t.$form.on("submit",function(){setTimeout(function(){t.setPopupAlert(t.messages.downloadComplete,!0)},1e3)}),t.$element.hasClass("export-csv")&&t.listenClick("exportTEXT","csv"),t.$element.hasClass("export-txt")&&t.listenClick("exportTEXT","txt"),t.$element.hasClass("export-html")&&t.listenClick("exportHTML"),t.$element.hasClass("export-xls")&&t.listenClick("exportEXCEL"),t.$element.hasClass("export-json")&&t.listenClick("exportJSON"),t.$element.hasClass("export-pdf")&&t.listenClick("exportPDF")},clean:function(e){var n=this,i=n.$table.clone();i.find("tr.filters").remove(),i.find("th").removeAttr("rowspan"),i.find("th").find("a").each(function(){t(this).contents().unwrap()}),i.find("input").remove(),n.showHeader||i.find("thead").remove(),n.showPageSummary||i.find("tfoot.kv-page-summary").remove(),n.showFooter||i.find("tfoot.kv-table-footer").remove(),n.showCaption||i.find("kv-table-caption").remove(),i.find(".skip-export").remove(),i.find(".skip-export-"+e).remove();var r=i.html();return r=n.preProcess(r),i.html(r),i},preProcess:function(t){var n,i=this,r=i.exportConversions,o=r.length,s=t;if(o>0)for(var a=0;o>a;a++)n=r[a],s=e(s,n.from,n.to);return s},download:function(t,e){var r=this,o=r.$element.data("format"),s=n(r.config)?{}:r.config;r.$form.find('[name="export_filetype"]').val(t),r.$form.find('[name="export_filename"]').val(r.filename),r.$form.find('[name="export_content"]').val(e),r.$form.find('[name="export_mime"]').val(o),"pdf"===t?r.$form.find('[name="export_config"]').val(JSON.stringify(s)):r.$form.find('[name="export_config"]').val(""),"_popup"===r.target&&(r.popup=i("","kvDownloadDialog",350,120),r.popup.focus(),r.setPopupAlert(r.messages.downloadProgress)),r.$form.submit()},exportHTML:function(){var e=this,n=e.clean("html"),i=e.config,r=e.config.cssFile&&i.cssFile.length?'<link href="'+e.config.cssFile+'" rel="stylesheet">':"",s=o.html.replace("{encoding}",e.encoding).replace("{css}",r).replace("{data}",t("<div />").html(n).html());e.download("html",s)},exportPDF:function(){var e=this,i=e.clean("pdf"),r=n(e.config.contentBefore)?"":e.config.contentBefore,s=n(e.config.contentAfter)?"":e.config.contentAfter,a=e.config.css,c=o.pdf.replace("{css}",a).replace("{before}",r).replace("{after}",s).replace("{data}",t("<div />").html(i).html());e.download("pdf",c)},exportTEXT:function(e){var n=this,i=n.clean(e),r=i.find("tr:has("+n.columns+")"),o=String.fromCharCode(11),s=String.fromCharCode(0),a='"'+n.config.colDelimiter+'"',c='"'+n.config.rowDelimiter+'"',l='"'+r.map(function(e,i){var r=t(i),s=r.find(n.columns);return s.map(function(e,n){var i=t(n),r=i.text().trim();return r.replace('"','""')}).get().join(o)}).get().join(s).split(s).join(c).split(o).join(a)+'"';n.download(e,l)},exportJSON:function(){var t=this,e=t.getArray("json");e=JSON.stringify(e,t.config.jsonReplacer,t.config.indentSpace),t.download("json",e)},exportEXCEL:function(){var e,n,i=this,r=i.clean("xls"),s=i.config,a=s.cssFile&&i.config.cssFile.length?'<link href="'+i.config.cssFile+'" rel="stylesheet">':"";r.find("td[data-raw-value]").each(function(){n=t(this),(n.css("mso-number-format")||0===n.css("mso-number-format")||"0"===n.css("mso-number-format"))&&n.html(n.attr("data-raw-value")).removeAttr("data-raw-value")}),e=o.excel.replace("{encoding}",i.encoding).replace("{css}",a).replace("{worksheet}",i.config.worksheet).replace("{data}",t("<div />").html(r).html()).replace(/"/g,"'"),i.download("xls",e)}},t.fn.gridexport=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=t(this),r=i.data("gridexport"),o="object"==typeof e&&e;r||i.data("gridexport",r=new s(this,t.extend({},t.fn.gridexport.defaults,o,t(this).data()))),"string"==typeof e&&r[e].apply(r,n)})},t.fn.gridexport.defaults={},t.fn.gridexport.Constructor=s}(window.jQuery);var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__slice=[].slice;!function(t,e){var n,i,r,o;return i=function(t){return parseFloat(t.style.width.replace("%",""))},o=function(t,e){return e=e.toFixed(2),e=e>0?e:0,t.style.width=""+e+"%"},r=function(t){return 0===t.type.indexOf("touch")?(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageX:t.pageX},n=function(){function n(n,i){this.pointerdown=__bind(this.pointerdown,this),this.constrainWidth=__bind(this.constrainWidth,this),this.options=t.extend({},this.defaults,i),this.$table=n,this.setHeaders(),this.restoreColumnWidths(),this.syncHandleWidths(),t(e).on("resize.rc",function(t){return function(){return t.syncHandleWidths()}}(this)),this.options.start&&this.$table.bind("column:resize:start.rc",this.options.start),this.options.resize&&this.$table.bind("column:resize.rc",this.options.resize),this.options.stop&&this.$table.bind("column:resize:stop.rc",this.options.stop)}return n.prototype.defaults={selector:"tr th:visible",store:e.store,syncHandlers:!0,resizeFromBody:!0,maxWidth:null,minWidth:null},n.prototype.triggerEvent=function(e,n,i){var r;return r=t.Event(e),r.originalEvent=t.extend({},i),this.$table.trigger(r,[this].concat(n||[]))},n.prototype.getColumnId=function(t){return this.$table.data("resizable-columns-id")+"-"+t.data("resizable-column-id")},n.prototype.setHeaders=function(){return this.$tableHeaders=this.$table.find(this.options.selector),this.assignPercentageWidths(),this.createHandles()},n.prototype.destroy=function(){return this.$handleContainer.remove(),this.$table.removeData("resizableColumns"),this.$table.add(e).off(".rc")},n.prototype.assignPercentageWidths=function(){return this.$tableHeaders.each(function(e){return function(n,i){var r;return r=t(i),o(r[0],r.outerWidth()/e.$table.width()*100)}}(this))},n.prototype.createHandles=function(){var e;return null!=(e=this.$handleContainer)&&e.remove(),this.$table.before(this.$handleContainer=t("<div class='rc-handle-container' />")),this.$tableHeaders.each(function(e){return function(n,i){var r;if(0!==e.$tableHeaders.eq(n+1).length&&null==e.$tableHeaders.eq(n).attr("data-noresize")&&null==e.$tableHeaders.eq(n+1).attr("data-noresize"))return r=t("<div class='rc-handle' />"),r.data("th",t(i)),r.appendTo(e.$handleContainer)}}(this)),this.$handleContainer.on("mousedown touchstart",".rc-handle",this.pointerdown)},n.prototype.syncHandleWidths=function(){return this.$handleContainer.width(this.$table.width()).find(".rc-handle").each(function(e){return function(n,i){var r;return r=t(i),r.css({left:r.data("th").outerWidth()+(r.data("th").offset().left-e.$handleContainer.offset().left),height:e.options.resizeFromBody?e.$table.height():e.$table.find("thead").height()})}}(this))},n.prototype.saveColumnWidths=function(){return this.$tableHeaders.each(function(e){return function(n,r){var o;return o=t(r),null==o.attr("data-noresize")&&null!=e.options.store?e.options.store.set(e.getColumnId(o),i(o[0])):void 0}}(this))},n.prototype.restoreColumnWidths=function(){return this.$tableHeaders.each(function(e){return function(n,i){var r,s;return r=t(i),null!=e.options.store&&(s=e.options.store.get(e.getColumnId(r)))?o(r[0],s):void 0}}(this))},n.prototype.totalColumnWidths=function(){var e;return e=0,this.$tableHeaders.each(function(n){return function(n,i){return e+=parseFloat(t(i)[0].style.width.replace("%",""))}}(this)),e},n.prototype.constrainWidth=function(t){return null!=this.options.minWidth&&(t=Math.max(this.options.minWidth,t)),null!=this.options.maxWidth&&(t=Math.min(this.options.maxWidth,t)),t},n.prototype.pointerdown=function(e){var n,s,a,c,l,u,h;return e.preventDefault(),a=t(e.currentTarget.ownerDocument),u=r(e),n=t(e.currentTarget),s=n.data("th"),c=this.$tableHeaders.eq(this.$tableHeaders.index(s)+1),h={left:i(s[0]),right:i(c[0])},l={left:h.left,right:h.right},this.$handleContainer.add(this.$table).addClass("rc-table-resizing"),s.add(c).add(n).addClass("rc-column-resizing"),this.triggerEvent("column:resize:start",[s,c,l.left,l.right],e),a.on("mousemove.rc touchmove.rc",function(t){return function(e){var n;return n=(r(e)-u)/t.$table.width()*100,o(s[0],l.left=t.constrainWidth(h.left+n)),o(c[0],l.right=t.constrainWidth(h.right-n)),null!=t.options.syncHandlers&&t.syncHandleWidths(),t.triggerEvent("column:resize",[s,c,l.left,l.right],e)}}(this)),a.one("mouseup touchend",function(t){return function(){return a.off("mousemove.rc touchmove.rc"),t.$handleContainer.add(t.$table).removeClass("rc-table-resizing"),s.add(c).add(n).removeClass("rc-column-resizing"),t.syncHandleWidths(),t.saveColumnWidths(),t.triggerEvent("column:resize:stop",[s,c,l.left,l.right],e)}}(this))},n}(),t.fn.extend({resizableColumns:function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var r,o;return r=t(this),o=r.data("resizableColumns"),o||r.data("resizableColumns",o=new n(r,i)),"string"==typeof i?o[i].apply(o,e):void 0})}})}(window.jQuery,window),function(t){function e(t,e,n){if(8==s){var i=l.width(),r=o.debounce(function(){var t=l.width();i!=t&&(i=t,n())},t);l.on(e,r)}else l.on(e,o.debounce(n,t))}function n(t){window.console&&window.console&&window.console.log&&window.console.log(t)}function i(){var e=t('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);var n=e.innerWidth(),i=t("div",e).innerWidth();return e.remove(),n-i}function r(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var n=t.dataTableSettings[e].nTable;if(t[0]==n)return!0}return!1}t.floatThead=t.floatThead||{},t.floatThead.defaults={cellTag:null,headerCellSelector:"tr:first>th:visible",
zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(e){return t([])},getSizingRow:function(t,e,n){return t.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var o=window._,s=function(){for(var t=3,e=document.createElement("b"),n=e.all||[];t=1+t,e.innerHTML="<!--[if gt IE "+t+"]><i><![endif]-->",n[0];);return t>4?t:document.documentMode}(),a=null,c=function(){if(s)return!1;var e=t("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");t("body").append(e);var n=e.find("col").width();return e.remove(),0==n},l=t(window);t.fn.floatThead=function(u){if(u=u||{},!o&&(o=window._||t.floatThead._,!o))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>s)return this;if(null==a&&(a=c(),a&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot"))),o.isString(u)){var h=u,d=this;return this.filter("table").each(function(){var e=t(this).data("floatThead-attached");if(e&&o.isFunction(e[h])){var n=e[h]();"undefined"!=typeof n&&(d=n)}}),d}var f=t.extend({},t.floatThead.defaults||{},u);return t.each(u,function(e,i){e in t.floatThead.defaults||!f.debug||n("jQuery.floatThead: used ["+e+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+o.keys(t.floatThead.defaults).join(", "))}),this.filter(":not(."+f.floatTableClass+")").each(function(){function n(t){return t+".fth-"+k+".floatTHead"}function c(){var e=0;T.find("tr:visible").each(function(){e+=t(this).outerHeight(!0)}),J.outerHeight(e),Y.outerHeight(e)}function u(){var t=C.outerWidth(),e=D.width()||t,n="hidden"!=D.css("overflow-y")?e-E.vertical:e;if(M.width(n),B){var i=100*t/n;K.css("width",i+"%")}else K.outerWidth(t)}function h(){$=(o.isFunction(f.scrollingTop)?f.scrollingTop(C):f.scrollingTop)||0,j=(o.isFunction(f.scrollingBottom)?f.scrollingBottom(C):f.scrollingBottom)||0}function d(){var e,n;if(V)e=N.find("col").length;else{var i;if(i=null==f.cellTag&&f.headerCellSelector?f.headerCellSelector:"tr:first>"+f.cellTag,o.isNumber(i))return i;n=T.find(i),e=0,n.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})}if(e!=z){z=e;for(var r=[],s=[],c=[],l=0;e>l;l++)r.push('<th class="floatThead-col"/>'),s.push("<col/>"),c.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");s=s.join(""),r=r.join(""),a&&(c=c.join(""),G.html(c),et=G.find("fthtd")),J.html(r),Y=J.find("th"),V||N.html(s),Z=N.find("col"),Q.html(s),tt=Q.find("col")}return e}function p(){if(!A){if(A=!0,F){var t=C.width(),e=W.width();t>e&&C.css("minWidth",t)}C.css(rt),K.css(rt),K.append(T),S.before(X),c()}}function g(){A&&(A=!1,F&&C.width(st),X.detach(),C.prepend(T),C.css(ot),K.css(ot),C.css("minWidth",at),C.css("minWidth",C.width()))}function m(t){F!=t&&(F=t,M.css({position:F?"absolute":"fixed"}))}function v(t,e,n,i){return a?n:i?f.getSizingRow(t,e,n):e}function y(){var t,e=d();return function(){var n=v(C,Z,et,s);if(n.length==e&&e>0){if(!V)for(t=0;e>t;t++)Z.eq(t).css("width","");g();var i=[];for(t=0;e>t;t++)i[t]=n.get(t).offsetWidth;for(t=0;e>t;t++)tt.eq(t).width(i[t]),Z.eq(t).width(i[t]);p()}else K.append(T),C.css(ot),K.css(ot),c()}}function b(t){var e=D.css("border-"+t+"-width"),n=0;return e&&~e.indexOf("px")&&(n=parseInt(e,10)),n}function w(){var t,e=D.scrollTop(),n=0,i=R?H.outerHeight(!0):0,r=I?i:-i,o=M.height(),s=C.offset(),c=0;if(B){var u=D.offset();n=s.top-u.top+e,R&&I&&(n+=i),n-=b("top"),c=b("left")}else t=s.top-$-o+j+E.horizontal;var h=l.scrollTop(),d=l.scrollLeft(),f=D.scrollLeft();return e=D.scrollTop(),function(u){var v=C[0].offsetWidth<=0&&C[0].offsetHeight<=0;if(!v&&U)return U=!1,setTimeout(function(){C.trigger("reflow")},1),null;if(v&&(U=!0,!F))return null;if("windowScroll"==u?(h=l.scrollTop(),d=l.scrollLeft()):"containerScroll"==u?(e=D.scrollTop(),f=D.scrollLeft()):"init"!=u&&(h=l.scrollTop(),d=l.scrollLeft(),e=D.scrollTop(),f=D.scrollLeft()),!a||!(0>h||0>d)){if(P)m("windowScrollDone"==u?!0:!1);else if("windowScrollDone"==u)return null;s=C.offset(),R&&I&&(s.top+=i);var y,b,w=C.outerHeight();if(B&&F){if(n>=e){var x=n-e;y=x>0?x:0}else y=O?0:e;b=c}else!B&&F?(h>t+w+r?y=w-o+r:s.top>h+$?(y=0,g()):(y=$+h-s.top+n+(I?i:0),p()),b=0):B&&!F?(n>e||e-n>w?(y=s.top-h,g()):(y=s.top+e-h-n,p()),b=s.left+f-d):B||F||(h>t+w+r?y=w+$-h+t+r:s.top>h+$?(y=s.top-h,p()):y=$,b=s.left-d);return{top:y,left:b}}}}function x(){var t=null,e=null,n=null;return function(i,r,o){null==i||t==i.top&&e==i.left||(M.css({top:i.top,left:i.left}),t=i.top,e=i.left),r&&u(),o&&c();var s=D.scrollLeft();F&&n==s||(M.scrollLeft(s),n=s)}}function _(){if(D.length){var t=D.width(),e=D.height(),n=C.height(),i=C.width(),r=i>t?q:0,o=n>e?q:0;E.horizontal=i>t-o?q:0,E.vertical=n>e-r?q:0}}var k=o.uniqueId(),C=t(this);if(C.data("floatThead-attached"))return!0;if(!C.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var T=C.find("thead:first"),S=C.find("tbody:first");if(0==T.length)throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element");var $,j,A=!1,E={vertical:0,horizontal:0},q=i(),z=0,D=f.scrollContainer(C)||t([]),F=f.useAbsolutePositioning;null==F&&(F=f.scrollContainer(C).length),F||(A=!0);var H=C.find("caption"),R=1==H.length;if(R)var I="top"===(H.css("caption-side")||H.attr("align")||"top");var L=t('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;"/>'),B=D.length>0,O=!1,W=t([]),P=9>=s&&!B&&F,K=t("<table/>"),Q=t("<colgroup/>"),N=C.find("colgroup:first"),V=!0;0==N.length&&(N=t("<colgroup/>"),V=!1);var G=t('<fthrow style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),M=t('<div style="overflow: hidden;"></div>'),U=!1,X=t("<thead/>"),J=t('<tr class="size-row"/>'),Y=t([]),Z=t([]),tt=t([]),et=t([]);X.append(J),C.prepend(N),a&&(L.append(G),C.append(L)),K.append(Q),M.append(K),f.copyTableClass&&K.attr("class",C.attr("class")),K.attr({cellpadding:C.attr("cellpadding"),cellspacing:C.attr("cellspacing"),border:C.attr("border")});var nt=C.css("display");if(K.css({borderCollapse:C.css("borderCollapse"),border:C.css("border"),display:nt}),"none"==nt&&(U=!0),K.addClass(f.floatTableClass).css("margin",0),F){var it=function(t,e){var n=t.css("position"),i="relative"==n||"absolute"==n;if(!i||e){var r={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};M.css(r),t=t.wrap("<div class='"+f.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),O=!0}return t};B?(W=it(D,!0),W.append(M)):(W=it(C),C.after(M))}else C.after(M);M.css({position:F?"absolute":"fixed",marginTop:0,top:F?0:"auto",zIndex:f.zIndex}),M.addClass(f.floatContainerClass),h();var rt={"table-layout":"fixed"},ot={"table-layout":C.css("tableLayout")||"auto"},st=C[0].style.width||"",at=C.css("minWidth")||"";_();var ct,lt=function(){(ct=y())()};lt();var ut=w(),ht=x();ht(ut("init"),!0);var dt=o.debounce(function(){ht(ut("windowScrollDone"),!1)},300),ft=function(){ht(ut("windowScroll"),!1),dt()},pt=function(){ht(ut("containerScroll"),!1)},gt=function(){h(),_(),lt(),ut=w(),(ht=x())(ut("resize"),!0,!0)},mt=o.debounce(function(){_(),h(),lt(),ut=w(),ht(ut("reflow"),!0)},1);B?F?D.on(n("scroll"),pt):(D.on(n("scroll"),pt),l.on(n("scroll"),ft)):l.on(n("scroll"),ft),l.on(n("load"),mt),e(f.debounceResizeMs,n("resize"),gt),C.on("reflow",mt),r(C)&&C.on("filter",mt).on("sort",mt).on("page",mt),C.data("floatThead-attached",{destroy:function(){var t=".fth-"+k;g(),C.css(ot),N.remove(),a&&L.remove(),X.parent().length&&X.replaceWith(T),C.off("reflow"),D.off(t),O&&(D.length?D.unwrap():C.unwrap()),C.css("minWidth",at),M.remove(),C.data("floatThead-attached",!1),l.off(t)},reflow:function(){mt()},setHeaderHeight:function(){c()},getFloatContainer:function(){return M},getRowGroups:function(){return A?M.find("thead").add(C.find("tbody,tfoot")):C.find("thead,tbody,tfoot")}})}),this}}(jQuery),function(){$.floatThead=$.floatThead||{},$.floatThead._=window._||function(){var t={},e=Object.prototype.hasOwnProperty,n=["Arguments","Function","String","Number","Date","RegExp"];t.has=function(t,n){return e.call(t,n)},t.keys=function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var i in e)t.has(e,i)&&n.push(i);return n};var i=0;return t.uniqueId=function(t){var e=++i+"";return t?t+e:e},$.each(n,function(){var e=this;t["is"+e]=function(t){return Object.prototype.toString.call(t)=="[object "+e+"]"}}),t.debounce=function(t,e,n){var i,r,o,s,a;return function(){o=this,r=arguments,s=new Date;var c=function(){var l=new Date-s;e>l?i=setTimeout(c,e-l):(i=null,n||(a=t.apply(o,r)))},l=n&&!i;return i||(i=setTimeout(c,e)),l&&(a=t.apply(o,r)),a}},t}()}(),function(t){function e(e,i,r){var o=this;return this.on("click.pjax",e,function(e){var s=t.extend({history:!0},m(i,r));s.container||(s.container=t(this).attr("data-pjax")||o),n(e,s)})}function n(e,n,i){i=m(n,i);var o=e.currentTarget;if(0!=t(o).data("pjax")){if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&g(o)==g(location)||e.isDefaultPrevented())){var s={url:o.href,container:t(o).attr("data-pjax"),target:o},a=t.extend({},s,i),c=t.Event("pjax:click");t(o).trigger(c,[a]),c.isDefaultPrevented()||(r(a),e.preventDefault(),t(o).trigger("pjax:clicked",[a]))}}}function i(e,n,i){i=m(n,i);var o=e.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method.toUpperCase(),url:o.action,container:t(o).attr("data-pjax"),target:o};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(o),s.processData=!1,s.contentType=!1;else{if(t(o).find(":file").length)return;s.data=t(o).serializeArray()}r(t.extend({},s,i)),e.preventDefault()}function r(e){function n(e,n,r){r||(r={}),r.relatedTarget=i;var o=t.Event(e,r);return a.trigger(o,n),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var i=e.target,o=p(e.url).hash,a=e.context=v(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:a.selector}):e.data._pjax=a.selector;var c;e.beforeSend=function(t,i){if("GET"!==i.type&&(i.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",a.selector),!n("pjax:beforeSend",[t,i]))return!1;i.timeout>0&&(c=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},i.timeout),i.timeout=0);var r=p(i.url);r.hash=o,e.requestUrl=f(r.href)},e.complete=function(t,i){c&&clearTimeout(c),n("pjax:complete",[t,i,e]),n("pjax:end",[t,e])},e.error=function(t,i,r){var o=w("",t,e),a=t.status>=301&&t.status<=303,c=a||n("pjax:error",[t,i,r,e]);(a||"GET"==e.type&&"abort"!==i&&c)&&s(o.url)},e.success=function(i,c,l){var h=r.state,d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,f=l.getResponseHeader("X-PJAX-Version"),g=w(i,l,e),m=p(g.url);if(o&&(m.hash=o,g.url=m.href),d&&f&&d!==f)return void s(g.url);if(!g.contents)return void s(g.url);r.state={id:e.id||u(),url:g.url,title:g.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},e.history&&(e.push||e.replace)&&window.history.replaceState(r.state,g.title,g.url);try{document.activeElement.blur()}catch(v){}g.title&&(document.title=g.title),n("pjax:beforeReplace",[g.contents,e],{state:r.state,previousState:h}),a.html(g.contents);var y=a.find("input[autofocus], textarea[autofocus]").last()[0];y&&document.activeElement!==y&&y.focus(),x(g.scripts);var b=e.scrollTo;if(o){var _=decodeURIComponent(o.slice(1)),k=document.getElementById(_)||document.getElementsByName(_)[0];k&&(b=t(k).offset().top)}"number"==typeof b&&t(window).scrollTop(b),n("pjax:success",[i,c,l,e])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title)),l(r.xhr),e.url=f(e.url),r.options=e;var d=r.xhr=t.ajax(e);return d.readyState>0&&(e.history&&e.push&&!e.replace&&(_(r.state.id,h(a)),window.history.pushState(null,"",e.requestUrl)),n("pjax:start",[d,e]),n("pjax:send",[d,e])),r.xhr}function o(e,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(i,m(e,n)))}function s(t){r.options.history&&(window.history.replaceState(null,"",r.state.url),window.location.replace(t))}function a(e){j||l(r.xhr);var n=r.state,i=e.state;if(i&&i.container){if(j&&A==i.url)return;var o,a=i.container;if(n){if(n.id===i.id)return;o=n.id<i.id?"forward":"back","back"==o&&(a=n.container)}var c=t(a);if(c.length){var u=q[i.id];n&&k(o,n.id,h(c));var d=t.Event("pjax:popstate",{state:i,direction:o});c.trigger(d);var f={id:i.id,url:i.url,container:c,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(u){c.trigger("pjax:start",[null,f]),r.state=i,i.title&&(document.title=i.title);var p=t.Event("pjax:beforeReplace",{state:i,previousState:n});c.trigger(p,[u,f]),c.html(u),c.trigger("pjax:end",[null,f])}else r(f);c[0].offsetHeight}else s(location.href)}j=!1}function c(e){var n=t.isFunction(e.url)?e.url():e.url,i=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(t("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,n){var i=n.split("=");r.append(t("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(t.isArray(o))t.each(o,function(e,n){r.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof o){var s;for(s in o)r.append(t("<input>",{type:"hidden",name:s,value:o[s]}))}t(document.body).append(r),r.submit()}function l(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function u(){return(new Date).getTime()}function h(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),e.contents()}function d(t,e){return t.replace(new RegExp("[?&]"+e+"=[^&#]*"),"").replace(/[?&]($|#)/,"").replace(/[?&]/,"?")}function f(t){return t=d(t,"_pjax"),t=d(t,"_")}function p(t){var e=document.createElement("a");return e.href=t,e}function g(t){return t.href.replace(/#.*/,"")}function m(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=v(n.container)),n}function v(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function y(t,e){return t.filter(e).add(t.find(e))}function b(e){return t.parseHTML(e,document,!0)}function w(e,n,i){var r={},o=/<html/i.test(e),s=n.getResponseHeader("X-PJAX-URL");if(r.url=s?f(s):i.requestUrl,o)var a=t(b(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),c=t(b(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var a=c=t(b(e));if(0===c.length)return r;if(r.title=y(a,"title").last().text(),i.fragment){if("body"===i.fragment)var l=c;else var l=y(c,i.fragment).first();l.length&&(r.contents="body"===i.fragment?l:l.contents(),r.title||(r.title=l.attr("title")||l.data("title")))}else o||(r.contents=c);return r.contents&&(r.contents=r.contents.not(function(){return t(this).is("title")}),r.contents.find("title").remove(),r.scripts=y(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function x(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,i=n.filter(function(){return this.src===e});if(!i.length){var r=document.createElement("script"),o=t(this).attr("type");o&&(r.type=o),r.src=t(this).attr("src"),document.head.appendChild(r)}})}}function _(t,e){r.options.cache&&(q[t]=e,D.push(t),C(z,0),C(D,r.defaults.maxCacheLength))}function k(t,e,n){if(r.options.cache){var i,o;q[e]=n,"forward"===t?(i=D,o=z):(i=z,o=D),i.push(e),(e=o.pop())&&delete q[e],C(i,r.defaults.maxCacheLength)}}function C(t,e){for(;t.length>e;)delete q[t.shift()]}function T(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function S(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=$,t.pjax.click=n,t.pjax.submit=i,t.pjax.reload=o,t.pjax.defaults={history:!0,cache:!0,timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:T},t(window).on("popstate.pjax",a)}function $(){t.fn.pjax=function(){return this},t.pjax=c,t.pjax.enable=S,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",a)}var j=!0,A=window.location.href,E=window.history.state;E&&E.container&&(r.state=E),"state"in window.history&&(j=!1);var q={},z=[],D=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?S():$()}(jQuery);